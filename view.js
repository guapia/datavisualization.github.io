var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){!function(t){var e=function(){function t(){}return t.assert=function(t,e){if(void 0===t&&(t=!1),!t)throw e+"\n"+(new Error).stack},t.log=function(t){console.log(t)},t}();t.Debug=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";var e=function(){function e(){}return e.max=function(t){for(var e=[],i=0,n=t;i<n.length;i++){var a=n[i];isNaN(a)||null==a||e.push(a)}return Math.max.apply(this,e)},e.min=function(t){for(var e=[],i=0,n=t;i<n.length;i++){var a=n[i];isNaN(a)||null==a||e.push(a)}return Math.min.apply(this,e)},e.iskey=function(t){return void 0!==t&&null!==t&&"string"==typeof t&&"_"!=t[0]},e.checkArrayType=function(e){t.Debug.assert(null!=e),t.Debug.assert(e.length>0);for(var i=typeof e[0],n=0,a=e;n<a.length;n++)if(i!=typeof a[n])return!1;return!0},e.getType=function(i){var n=null;if(i instanceof Array){if(t.Debug.assert(null!=i),t.Debug.assert(i.length>0),n=t.DataType.Array,e.checkArrayType(i))return e.getType(i[0])}else"number"==typeof i?n=t.DataType.Number:"string"==typeof i?n=t.DataType.String:"boolean"==typeof i?n=t.DataType.Boolean:t.Debug.assert(!0,"Value can't be Object except Array");return n},e.mergeScale=function(e,i,n){void 0===n&&(n=!1);var a=null;if(e.id==i.id)if(e instanceof t.OrdinalScale&&i instanceof t.OrdinalScale){var r=_.union(e.domains,i.domains);(n||e.domains.length/r.length>.5&&i.domains.length/r.length>.5)&&(a=e.clone()).domain(r)}else if(e instanceof t.LinearScale&&i instanceof t.LinearScale){var s=Math.min(e.min,i.min),o=Math.max(e.max,i.max),l=Math.abs(o-s)/Math.abs(e.max-e.min),h=Math.abs(o-s)/Math.abs(i.max-i.min);console.log("Linear range rate1 = "+l+" , rate2 = "+h),(n||l<5&&h<5)&&(a=e.clone()).domain([s,o])}else e instanceof t.LogScale&&i instanceof t.LogScale&&e.logBase==i.logBase&&(a=e.clone()).domain([Math.min(e.min,i.min),Math.max(e.max,i.max)]);return a},e.isMixedRotatedRect=function(t,i){var n=!1;if(t.angle==i.angle)for(var a=0,r=t.points;a<r.length;a++){var s=r[a];if(e.IsPointInPolygon(s,i.points)){n=!0;break}}else Math.sqrt(Math.pow(t.center.x-i.center.x,2)+Math.pow(t.center.y-i.center.y,2))<=t.raidius+i.raidius&&(n=!0);return n},e.IsPointInPolygon=function(t,e){for(var i=e[0].x,n=e[0].x,a=e[0].y,r=e[0].y,s=1;s<e.length;s++){var o=e[s];i=Math.min(o.x,i),n=Math.max(o.x,n),a=Math.min(o.y,a),r=Math.max(o.y,r)}if(t.x<i||t.x>n||t.y<a||t.y>r)return!1;for(var l=!1,s=0,h=e.length-1;s<e.length;h=s++)e[s].y>t.y!=e[h].y>t.y&&t.x<(e[h].x-e[s].x)*(t.y-e[s].y)/(e[h].y-e[s].y)+e[s].x&&(l=!l);return l},e.IsPointInPolygon2=function(t,e,i){for(var n=e[0],a=e[0],r=i[0],s=i[0],o=1;o<e.length;o++)n=Math.min(e[o],n),a=Math.max(e[o],a),r=Math.min(i[o],r),s=Math.max(i[o],s);if(t.x<n||t.x>a||t.y<r||t.y>s)return!1;for(var l=!1,o=0,h=e.length-1;o<e.length;h=o++)i[o]>t.y!=i[h]>t.y&&t.x<(e[h]-e[o])*(t.y-i[o])/(i[h]-i[o])+e[o]&&(l=!l);return l},e}();t.Utility=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){var e=function(){function t(){}return t.nextColor=function(){return t.Color[++t._colorindex%t.Color.length]},t.indexColor=function(e){return t.Color[e%t.Color.length]},t.gradientColor=function(e,i,n){var a=null;e.startsWith("rgb")&&(e=t.colorHex(e));var r=(a=t.colorRgb(e))[0],s=a[1],o=a[2],l=null;i.startsWith("rgb")&&(i=t.colorHex(i));for(var h=((l=t.colorRgb(i))[0]-r)/n,c=(l[1]-s)/n,u=(l[2]-o)/n,f=[],_=0;_<n;_++){var p=t.colorHex("rgb("+parseInt(h*_+r)+","+parseInt(c*_+s)+","+parseInt(u*_+o)+")");f.push(p)}return f},t.getColor=function(e,i,n,a,r){var s=t.colorRgb(e),o=s[0],l=s[1],h=s[2],c=t.colorRgb(i),u=(c[0]-o)/(r-a),f=(c[1]-l)/(r-a),_=(c[2]-h)/(r-a);return t.colorHex("rgb("+parseInt(u*n+o)+","+parseInt(f*n+l)+","+parseInt(_*n+h)+")")},t.colorRgb=function(t){if((t=t.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var e="#",i=1;i<4;i+=1)e+=t.slice(i,i+1).concat(t.slice(i,i+1));t=e}for(var n=[],i=1;i<7;i+=2)n.push(parseInt("0x"+t.slice(i,i+2)));return n}return t},t.colorHex=function(t){var e=t;if(/^(rgb|RGB)/.test(e)){for(var i=e.replace(/(?:(|)|rgb|RGB)*/g,"").split(","),n="#",a=0;a<i.length;a++){var r=Number(i[a]).toString(16);"0"===(r=r<10?"0"+r:r)&&(r+=r),n+=r}return 7!==n.length&&(n=e),n}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return e;var s=e.replace(/#/,"").split("");if(6===s.length)return e;if(3===s.length){for(var o="#",a=0;a<s.length;a+=1)o+=s[a]+s[a];return o}},t._colorindex=-1,t.Color=["rgb(251, 118, 123)","rgb(129, 227, 238)","#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],t}();t.ColorUtils=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.graphics.Point,n=function(){function t(t,e,n,a,r){this.angle=r,this.centerx=t,this.centery=e,this.width=n,this.height=a,this.points=[new i,new i,new i,new i,new i,new i,new i,new i,new i];var s=this.points[0],o=this.points[1],l=this.points[2],h=this.points[3],c=this.points[4],u=this.points[5],f=this.points[6],_=this.points[7];_.x=this.centerx+Math.cos(this.angle)*this.width/2,_.y=this.centery+Math.sin(this.angle)*this.width/2,f.x=2*this.centerx-_.x,f.y=2*this.centery-_.y,o.x=_.x+Math.sin(this.angle)*this.height/2,o.y=_.y-Math.cos(this.angle)*this.height/2,l.x=2*_.x-o.x,l.y=2*_.y-o.y,h.x=f.x-Math.sin(this.angle)*this.height/2,h.y=f.y+Math.cos(this.angle)*this.height/2,s.x=2*f.x-h.x,s.y=2*f.y-h.y,u.x=(h.x+l.x)/2,u.y=(h.y+l.y)/2,c.x=(s.x+o.x)/2,c.y=(s.y+o.y)/2;var p=this.points[8];p.x=this.centerx,p.y=this.centery}return Object.defineProperty(t.prototype,"raidius",{get:function(){return Math.sqrt(Math.pow(this.center.x-this.leftTop.x,2)+Math.pow(this.center.y-this.leftTop.y,2))},enumerable:!0,configurable:!0}),t.prototype.offset=function(t,e,i){for(var n=0;n<this.points.length;++n){var a=this.points[n];a.x+=t*Math.cos(i),a.y+=e*Math.sin(i)}},Object.defineProperty(t.prototype,"leftTop",{get:function(){return this.points[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightTop",{get:function(){return this.points[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftBottom",{get:function(){return this.points[3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightBottom",{get:function(){return this.points[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerTop",{get:function(){return this.points[4]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerBottom",{get:function(){return this.points[5]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.points[8]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPoint",{get:function(){return new i(this.centerx,this.centery)},enumerable:!0,configurable:!0}),t}();e.RotateRect=n;var a=function(){return function(t,e,n,a,r){this._cx=t,this._cy=e,this._leftwidth=n,this._rightwidth=a,this._angle=r,this.endPoint=new i,this.endPoint.x=t+Math.sin(this._angle)*a,this.endPoint.y=e-Math.cos(this._angle)*a,this.startPoint=new i,this.startPoint.x=t-Math.sin(this._angle)*n,this.startPoint.y=e+Math.cos(this._angle)*n}}();e.RotateLine=a}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";!function(t){t[t.Width=0]="Width",t[t.Height=1]="Height",t[t.Size=2]="Size",t[t.Radius=3]="Radius",t[t.Sweep=4]="Sweep",t[t.Alpha=5]="Alpha"}(t.AnimationType||(t.AnimationType={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";!function(t){t[t.SUM=0]="SUM",t[t.AVERAGE=1]="AVERAGE",t[t.COUNT=2]="COUNT",t[t.NONE=3]="NONE"}(t.Agg||(t.Agg={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";!function(t){t[t.Desc=0]="Desc",t[t.Asc=1]="Asc",t[t.None=2]="None"}(t.Order||(t.Order={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";!function(t){t[t.Linear=0]="Linear",t[t.Log=1]="Log",t[t.Ordinal=2]="Ordinal"}(t.ScaleType||(t.ScaleType={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(t){t[t.Number=0]="Number",t[t.String=1]="String",t[t.Object=2]="Object",t[t.Array=3]="Array",t[t.Boolean=4]="Boolean",t[t.Date=5]="Date"}(t.DataType||(t.DataType={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";!function(t){t[t.Bar=0]="Bar",t[t.Line=1]="Line",t[t.Scatter=2]="Scatter",t[t.Area=3]="Area",t[t.Pie=4]="Pie",t[t.Sunburst=5]="Sunburst",t[t.TreeMap=6]="TreeMap",t[t.Radar=7]="Radar",t[t.Candlestick=8]="Candlestick"}(t.ChartType||(t.ChartType={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(t){"use strict";!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(t.AxisType||(t.AxisType={}))}(t.cartesian||(t.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(e){"use strict";var i=function(){function e(e,i){this.__val=e,e instanceof Array?this.__isMultiple=!0:this.__isMultiple=!1,this.__scaleType=i,this.__dataType=t.Utility.getType(e)}return Object.defineProperty(e.prototype,"scaleType",{get:function(){return this.__scaleType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return this.__dataType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMultiple",{get:function(){return this.__isMultiple},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.__val},enumerable:!0,configurable:!0}),e}();e.Value=i}(t.cartesian||(t.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){var n=t.graphics.Util,a=function(){function t(t,i){this.aggregate=n.asEnum(t.aggregate,e.Agg,!0),null==this.aggregate&&(this.aggregate=e.Agg.NONE),this.bind=t.field,this.type=n.asEnum(t.type,e.ScaleType,!0),null==this.type&&(this.type=e.ScaleType.Ordinal),this.logBase=t.logBase,this.name=i,this.range=t.range,this.band=t.band}return t.prototype.equals=function(t){return _.isEqual(this,t)},t}();i.Field=a}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(t){"use strict";var e=function(){function t(t,e){if(this.series=t.split(","),null!=e&&e instanceof Array){this.rules=[];for(var n=0,a=e;n<a.length;n++){var r=a[n];this.rules.push(new i(r.field,r.express))}}}return t.prototype.equals=function(t){return _.isEqual(this,t)},t}();t.Filter=e;var i=function(){return function(t,e){this.filed=t,this.express=e}}();t.Rule=i}(t.cartesian||(t.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(t){var e=function(){return function(e){if(this._stack=!1,this._radial=!1,e.x&&(this.x=new t.Field(e.x,"x")),e.y&&(this.y=new t.Field(e.y,"y")),e.color&&(this.color=new t.Field(e.color,"color")),e.shape&&(this.shape=new t.Field(e.shape,"shape")),e.size&&(this.size=new t.Field(e.size,"size")),e.tooltip&&(this.tooltip=new t.Field(e.tooltip,"tooltip")),e.text&&(this.text=new t.Field(e.text,"text")),e.group&&(this.group=new t.Field(e.group,"group")),e.values&&e.values instanceof Array){this.values=[];for(var i=0;i<e.values.length;++i){var n=e.values[i];this.values.push(new t.Field(n,n.name))}}null!=e.stack&&(this._stack=e.stack),null!=e.radial&&(this._radial=e.radial)}}();t.Encoding=e}(t.cartesian||(t.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(t){"use strict";var e=function(){return function(){}}();t.Item=e}(t.cartesian||(t.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(t){"use strict";var e=function(){return function(){}}();t.TransForm=e}(t.cartesian||(t.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.graphics.Util,a=t.Debug,r=function(){function t(t,i,r){this.__points=[],this.__chartType=e.ChartType.Bar,this.enable=!0,this.showlabels=!1,a.assert(null!=t),a.assert(null!=i),a.assert(i.data instanceof Array,"Series must be Array"),this.__data=i.data,this.__name=i.name,this.__index=r,this.__chartType=n.asEnum(i.charttype,e.ChartType),this.__encoding=t,this.__pairs=[];for(var s in this.__encoding)if(e.Utility.iskey(s)){var o=this.__encoding[s],l=this.__createScale(o);this.__pairs.push({filed:o,scale:l})}for(var h=0,c=this.__data;h<c.length;h++){var u=c[h];this.__points.push(this.__analyseItem(this.__pairs,u))}for(var f=0,_=this.__pairs;f<_.length;f++){var p=_[f],o=p.filed,l=p.scale;"x"!=o.name&&"y"!=o.name&&null!=o.range&&o.range.length>0&&(l instanceof e.LinearScale?l.range(o.range):l instanceof e.LogScale?l.range(o.range):l instanceof e.OrdinalScale&&(!0===o.band?l.rangeBounds(o.range):l.range(o.range)))}}return t.prototype.__analyseItem=function(t,n){a.assert(null!=n),a.assert("object"==typeof n);var r=new i.Item;a.assert(!(n instanceof Array));for(var s=0,o=t;s<o.length;s++){var l=o[s],h=l.filed,c=l.scale;if(c instanceof e.LinearScale){var u=e.Utility.max([n[h.bind],c.max]),f=e.Utility.min([n[h.bind],c.min]);c.domain([f,u])}else if(c instanceof e.LogScale){var u=e.Utility.max([n[h.bind],c.max]),f=e.Utility.min([n[h.bind],c.min]);c.domain([f,u])}else c instanceof e.OrdinalScale&&c.domains.push(n[h.bind]);var _=new i.Value(n[h.bind],h.type);r[h.name]=_}return r},t.prototype._refresh=function(){for(var t=0,i=this.__pairs;t<i.length;t++)(l=i[t]).scale.domain([]);for(var n=0,a=this.__points;n<a.length;n++)for(var r=a[n],s=0,o=this.__pairs;s<o.length;s++){var l=o[s],h=l.filed,c=l.scale;if(c instanceof e.LinearScale){var u=r[h.name],f=e.Utility.max(u.isMultiple?u.value.concat([c.max]):[u.value,c.max]),_=e.Utility.min(u.isMultiple?u.value.concat([c.min]):[u.value,c.min]);c.domain([_,f])}else if(c instanceof e.LogScale){var u=r[h.name],f=e.Utility.max(u.isMultiple?u.value.concat([c.max]):[u.value,c.max]),_=e.Utility.min(u.isMultiple?u.value.concat([c.min]):[u.value,c.min]);c.domain([_,f])}else if(c instanceof e.OrdinalScale)if((u=r[h.name]).isMultiple)for(var p=0,d=u.value;p<d.length;p++){var y=d[p];c.domains.push(y)}else c.domains.push(u.value)}},t.prototype.__createScale=function(t){a.assert(null!=t);var i=null;switch(t.type){case e.ScaleType.Linear:i=new e.LinearScale(t.name);break;case e.ScaleType.Ordinal:i=new e.OrdinalScale(t.name);break;case e.ScaleType.Log:i=new e.LogScale(t.logBase,t.name);break;default:a.assert(!1,t.type+" ScaleType has not been implement!")}return i},Object.defineProperty(t.prototype,"data",{get:function(){return this.__data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.__name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalePairs",{get:function(){return this.__pairs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"points",{get:function(){return this.__points},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.__points.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartType",{get:function(){return this.__chartType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.__index},enumerable:!0,configurable:!0}),t.prototype.getScale=function(t){var e=_.findIndex(this.__pairs,function(e){return e.filed.name==t});return e>=0?this.__pairs[e].scale:null},t.prototype.clone=function(){return _.cloneDeep(this)},t}();i.Series=r}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(e){"use strict";var i=function(){function i(t){this.__chartTypes=[],this.__data=t,this.__encoding=this._analyseEncoding(this.__data.encoding),this._analyseFilter(t.filter),this.refresh()}return i.prototype._analyseEncoding=function(t){return new e.Encoding(t)},Object.defineProperty(i.prototype,"chartTypes",{get:function(){return this.__chartTypes},enumerable:!0,configurable:!0}),i.prototype._analyseSeries=function(t,i){this.__series=[],this.__allSeries=[];for(var n=0;n<t.length;++n){var a=t[n],r=new e.Series(i,a,n);null!=this.__filter&&this.__filter.series.indexOf(a.name)>-1?(r.enable=!0,this.__series.push(r),this.__chartTypes.indexOf(r.chartType)<0&&this.__chartTypes.push(r.chartType)):r.enable=!1,this.__allSeries.push(r)}},i.prototype.refresh=function(){this._analyseSeries(this.__data.series,this.__encoding),this._createLayoutScales(this.encoding)},i.prototype._analyseFilter=function(t){null!=t&&(this.__filter=new e.Filter(t.series,t.rules))},i.prototype._createLayoutScales=function(e){if(this.__scalePairs=[],this.__series.length>1){this._stack(t.ChartType.Bar),this._stack(t.ChartType.Line),this._stack(t.ChartType.Area),this._stack(t.ChartType.Scatter);for(var i=0;i<this.__series.length-1;++i)for(var n=this.__series[i],a=this.__series[i+1],r=0,s=n.scalePairs;r<s.length;r++)for(var o=s[r],l=0,h=a.scalePairs;l<h.length;l++){var c=h[l];if(o.filed.equals(c.filed)){var u=o.filed,f=this.encoding._stack&&"y"==o.filed.name,_=this.__getScaleInfobyname(o.filed.name,n.name),p=this.__getScaleInfobyname(c.filed.name,a.name);null==_&&null==p?null!=(w=t.Utility.mergeScale(o.scale,c.scale,f))?this.__scalePairs.push({series:[n.name,a.name],filed:u,scale:w}):(this.__scalePairs.push({series:[n.name],filed:o.filed,scale:o.scale}),this.__scalePairs.push({series:[a.name],filed:c.filed,scale:c.scale})):null==_&&null!=p?null!=(w=t.Utility.mergeScale(o.scale,p.scale,f))&&(p.scale=w,p.series.push(n.name)):null!=_&&null==p&&null!=(w=t.Utility.mergeScale(c.scale,_.scale,f))&&(_.scale=w,_.series.push(a.name))}}for(var d=0,y=this.__series;d<y.length;d++)for(var g=y[d],m=0,v=g.scalePairs;m<v.length;m++){var b=v[m],w=this._getScaleByName(b.filed.name,g.name);null!=w&&(b.scale=w)}}else if(1==this.__series.length)for(var S=0,x=this.__series[0].scalePairs;S<x.length;S++){b=x[S];this.__scalePairs.push({series:[this.__series[0].name],filed:b.filed,scale:b.scale.clone()})}},i.prototype._stack=function(t){if(this.encoding._stack)for(var e={},i={},n=0;n<this.series.length;++n){var a=this.series[n];a.chartType===t&&this._setSeriesStack(a,i,e)}},i.prototype.__getScaleInfobyname=function(t,e){return _.find(this.__scalePairs,function(i){return i.series.indexOf(e)>=0&&t==i.filed.name})},i.prototype._getScaleByName=function(t,e){return _.result(_.find(this.__scalePairs,function(i){return i.series.indexOf(e)>=0&&t==i.filed.name}),"scale")},i.prototype._setSeriesStack=function(i,n,a){if(i.getScale("x")instanceof t.OrdinalScale)for(var r=0,s=i.points;r<s.length;r++){var o=s[r],l=a[o.x.value],h=n[o.x.value];null==l&&(l=0,a[o.x.value]=0),null==h&&(h=0,n[o.x.value]=0);var c=o.y.value<0,u=c?l:h,f=u+o.y.value;c?a[o.x.value]=f:n[o.x.value]=f,o.y=new e.Value([u,f],o.y.scaleType)}i._refresh()},i.prototype.getSeriesByType=function(t){return _.filter(this.__series,function(e){return e.chartType===t})},Object.defineProperty(i.prototype,"series",{get:function(){return this.__series},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"allSeries",{get:function(){return this.__allSeries},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"encoding",{get:function(){return this.__encoding},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"filter",{get:function(){return this.__filter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),i}();e.DataModel=i}(t.cartesian||(t.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(e){"use strict";var i=function(){function e(e,i){if(this.__val=e,this.__scaleType=i,this.__dataType=t.Utility.getType(e),null==this.__scaleType)switch(this.__dataType){case t.DataType.Number:case t.DataType.Date:this.__scaleType=t.ScaleType.Linear;break;case t.DataType.String:case t.DataType.Boolean:default:this.__scaleType=t.ScaleType.Ordinal}}return Object.defineProperty(e.prototype,"scaleType",{get:function(){return this.__scaleType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return this.__dataType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.__val},enumerable:!0,configurable:!0}),e}();e.Value=i}(t.hierarchical||(t.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){var n=t.graphics.Util,a=function(){function t(t,i){this.aggregate=n.asEnum(t.aggregate,e.Agg,!0),null==this.aggregate&&(this.aggregate=e.Agg.NONE),this.bind=t.field,this.name=i,this.range=t.range,this.band=t.band,this.type=n.asEnum(t.type,e.ScaleType,!0)}return t.prototype.equals=function(t){return _.isEqual(this,t)},t}();i.Field=a}(e.hierarchical||(e.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(t){"use strict";var e=function(){return function(){this._hidden=!1}}();t.Item=e}(t.hierarchical||(t.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(t){"use strict";var e=function(){return function(e){null!=e.color&&(this.color=new t.Field(e.color,"color")),null!=e.size&&(this.size=new t.Field(e.size,"size")),null!=e.tooltip&&(this.tooltip=new t.Field(e.tooltip,"tooltip")),null!=e.text&&(this.text=new t.Field(e.text,"text")),null!=e.children&&(this.children=new t.Field(e.children,"children"))}}();t.Encoding=e}(t.hierarchical||(t.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.graphics.Util,a=t.Debug,r=function(){function t(t){this.__data=t,this.__chartType=n.asEnum(t.charttype,e.ChartType),this.__encoding=this._analyseEncoding(this.__data.encoding),this.__createRoot()}return t.prototype._analyseEncoding=function(t){return new i.Encoding(t)},Object.defineProperty(t.prototype,"chartType",{get:function(){return this.__chartType},enumerable:!0,configurable:!0}),t.prototype.__createModel=function(e,n){var a=new i.Item;a._id=(++t.id).toFixed();for(var r in this.__encoding)if("children"===r){null==a.children&&(a.children=[]);var s=e[this.__encoding.children.bind];if(null!=s&&s instanceof Array)for(var o=0,l=s;o<l.length;o++){var h=l[o];a.children.push(this.__createModel(h,n+1))}}else"count"===this.__encoding[r].bind||"depth"===this.__encoding[r].bind?this.__encoding[r].bind in e?a[r]=new i.Value(e[this.__encoding[r].bind],null):"count"==this.__encoding[r].bind?a[r]=new i.Value(null!=e.children?e.children.length:1,null):"depth"==this.__encoding[r].bind&&(a.depth=new i.Value(n,null)):a[r]=new i.Value(e[this.__encoding[r].bind],null);return a},t.prototype.__createRoot=function(){this.__root=[];for(var t=0,e=this.__data.values;t<e.length;t++){var i=e[t];this.__root.push(this.__createModel(i,0))}},t.prototype.refresh=function(){},t.prototype.__createScale=function(t){a.assert(null!=t);var i=null;switch(t.type){case e.ScaleType.Linear:i=new e.LinearScale(t.name);break;case e.ScaleType.Ordinal:i=new e.OrdinalScale(t.name);break;default:a.assert(!1,t.type+" ScaleType has not been implement!")}return i},Object.defineProperty(t.prototype,"root",{get:function(){return this.__root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encoding",{get:function(){return this.__encoding},enumerable:!0,configurable:!0}),t.id=0,t}();i.DataModel=r}(e.hierarchical||(e.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){var e=function(){function e(e){this.__bound=!1,this.__domains=[],this.ranges=[],this.id=e,this._order=t.Order.None}return Object.defineProperty(e.prototype,"id",{get:function(){return this.__id},set:function(t){this.__id=t},enumerable:!0,configurable:!0}),e.prototype.domain=function(t){return this.__domains=t,this},e.prototype.range=function(t){return this.ranges=t,this.refresh()},e.prototype.rangeBounds=function(t){return this},e.prototype.refresh=function(){return this},e.prototype.getScaleValue=function(t){return 0},Object.defineProperty(e.prototype,"startPosition",{get:function(){return this.__start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){return this.__end},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t},enumerable:!0,configurable:!0}),e.prototype.equal=function(t){return null!=t&&this.id==t.id},e.prototype.clone=function(){return _.cloneDeep(this)},e}();t.Scale=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";var e=function(e){function i(t){return e.call(this,t)||this}return __extends(i,e),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),i.prototype.domain=function(t){return e.prototype.domain.call(this,t),this._min=this.__domains[0],this._max=this.__domains[1],this},i.prototype.refresh=function(){return this.order===t.Order.Asc?(this.__start=this.ranges[0],this.__end=this.ranges[1]):this.order===t.Order.Desc?(this.__start=this.ranges[1],this.__end=this.ranges[0]):(this.__start=this.ranges[0],this.__end=this.ranges[1]),this._min=this.__domains[0],this._max=this.__domains[1],this},i.prototype.range=function(t){return this.ranges=t,this.refresh(),this},i.prototype.getScaleValue=function(t){return this._max==this._min?(this.__end-this.__start)/2+this.__start:(this.__end-this.__start)/(this._max-this._min)*(t-this._min)+this.__start},i.prototype.equal=function(t){return null!=t&&(t.id==this.id&&t.max==this.max&&t.min==this.min)},i}(t.Scale);t.LinearScale=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){var e=function(e){function i(t){var i=e.call(this,t)||this;return i._domainCache={},i}return __extends(i,e),i.prototype.refresh=function(){this.order===t.Order.Asc?this.__domains.sort(function(t,e){return t-e}):this.order===t.Order.Desc&&this.__domains.sort(function(t,e){return e-t}),this._domainCache={};for(var e=0;e<this.__domains.length;++e)this._domainCache[this.__domains[e]]=e;return t.Debug.assert(null!=this.ranges,""),t.Debug.assert(2==this.ranges.length),2==this.ranges.length&&(this.__start=this.ranges[0],this.__end=this.ranges[1]),this},Object.defineProperty(i.prototype,"max",{get:function(){return this.ranges.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"domains",{get:function(){return this.__domains},enumerable:!0,configurable:!0}),i.prototype.range=function(t){return this.ranges=t,this.__bound=!1,this.refresh(),this},i.prototype.rangeBounds=function(t){return this.ranges=t,this.__bound=!0,this.refresh(),this},i.prototype.domain=function(t){return this.__domains=t,this},i.prototype.getScaleValue=function(t){var e=this._domainCache[t];isNaN(e)&&(e=0);var i=this.__domains.length;return i<2&&(i=2),this.__bound?(e+.5)*(this.__end-this.__start)/i+this.__start:e*(this.__end-this.__start)/(i-1)+this.__start},i}(t.Scale);t.OrdinalScale=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){var e=function(e){function i(t,i){var n=e.call(this,i)||this;return n._ticksize=6,n._logBase=t,n}return __extends(i,e),i.prototype.domain=function(t){return e.prototype.domain.call(this,t),this._min=this.__domains[0],this._max=this.__domains[1],this},Object.defineProperty(i.prototype,"logBase",{get:function(){return this._logBase},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tickSize",{set:function(t){this._ticksize=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),i.prototype.refresh=function(){if(this.order===t.Order.Asc?(this.__start=this.ranges[0],this.__end=this.ranges[1]):this.order===t.Order.Desc?(this.__start=this.ranges[1],this.__end=this.ranges[0]):(this.__start=this.ranges[0],this.__end=this.ranges[1]),this._min=this.__domains[0],this._max=this.__domains[1],this._logBase>0){var e=this._logBase,i=Math.log(e),n=Math.ceil(Math.log(this._max)/i);this._max=Math.pow(e,n);var a=Math.floor(Math.log(this._min)/i);this._min=Math.pow(e,a),(this._min<=0||isNaN(this._min))&&(this._min=1),this._max<this._min&&(this._max=this._min+1)}return this},i.prototype.range=function(t){return this.ranges=t,this.refresh(),this},Object.defineProperty(i.prototype,"ticks",{get:function(){for(var t=new Array(this._ticksize),e=0;e<=this._ticksize;++e)t[e]=e*this._niceTick;return t},enumerable:!0,configurable:!0}),i.prototype.getScaleValue=function(t){t<this._min&&(t=this._min);var e=Math.log(this._max/this._min);return Math.log(t/this._min)/e*(this.__end-this.__start)+this.__start},i}(t.Scale);t.LogScale=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";!function(t){t[t.Shape=0]="Shape",t[t.Series=1]="Series",t[t.Axis=2]="Axis",t[t.SeriesLegend=3]="SeriesLegend",t[t.ScaleLegend=4]="ScaleLegend"}(t.ElementType||(t.ElementType={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.view.animation.Animation,n=function(){function t(){this._cache={}}return Object.defineProperty(t.prototype,"isempty",{get:function(){var t=0;for(var e in this._cache)if(++t>0)return!1;return!0},enumerable:!0,configurable:!0}),t.prototype.resetCache=function(t){this._cache={};for(var e=0,i=t;e<i.length;e++){var n=i[e];this._cache[n.id]=n}},t.prototype.startCompare=function(t){for(var e={},i=0,n=t;i<n.length;i++){var a=n[i];e[a.id]=a}if(this.isempty)return this._cache=e,!1;for(var r in this._cache){var s=this._cache[r],o=e[r];null!=s&&null!=o&&this.__startAnimation(o,s)}return this._cache=e,!0},t.prototype.__startAnimation=function(t,e){this.__switchLayout(t,e);var i=new a(t.layoutInfo.innerrect,e.layoutInfo.innerrect);i.duration=500,i.fillAfter=!0,i.from=0,i.to=1,t.startAnimation(i)},t.prototype.__switchLayout=function(t,e){var i=t.layoutInfo.clone();t.layoutInfo.innerrect=e.layoutInfo.innerrect.clone(),e.layoutInfo.innerrect=i.innerrect},t}();e.ComparedAnimationCache=n;var a=function(e){function i(i,n){var a=e.call(this)||this;return a.ease=new t.view.animation.AnimationEase,a.fromrect=i,a.torect=n,a}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){var n=this.from+(this.to-this.from)*t;i.layoutInfo.innerrect.left=this.fromrect.left+(this.torect.left-this.fromrect.left)*n,i.layoutInfo.innerrect.top=this.fromrect.top+(this.torect.top-this.fromrect.top)*n,i.layoutInfo.innerrect.width=this.fromrect.width+(this.torect.width-this.fromrect.width)*n,i.layoutInfo.innerrect.height=this.fromrect.height+(this.torect.height-this.fromrect.height)*n},i.prototype.onStartAniamtion=function(t,i){e.prototype.onStartAniamtion.call(this,t,i)},i.prototype.onEndAnimation=function(t,i){e.prototype.onEndAnimation.call(this,t,i),i.layoutInfo.innerrect=i._oldLayoutInfo.innerrect.clone()},i}(i)}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.view.View,a=t.widget.LinearLayout,r=t.view.MeasureSpec,s=t.graphics.Size,o=t.graphics.Rect,l=t.device.Default,h=t.view.LayoutParams,c=t.graphics.Point,u=t.view.event.MotionEvent,f=function(t){function i(e){var i=t.call(this,null)||this;return i.__shape=e,i}return __extends(i,t),Object.defineProperty(i.prototype,"series",{get:function(){return this._series},set:function(t){this._series=t,this.__loadItems()},enumerable:!0,configurable:!0}),i.prototype.__loadItems=function(){this.removeAllViews();for(var t=0;t<this.series.length;++t){var i=new _;i.series=this.series[t],"bar"==this.__shape?i.icon=new d:"scatter"==this.__shape&&(i.icon=new y),i.series.enable?i.icon.color=e.ColorUtils.indexColor(t):i.icon.color="gray",this.children.push(i)}},i}(a);i.SeriesLegend=f;var _=function(t){function i(){var e=t.call(this,null)||this;return e.font=l.font,e.font.fontColor="black",e}return __extends(i,t),i.prototype.onMeasure=function(t,e,i){t.getMeasureValue(),e.getMeasureValue();var n=new s(0,0);n=i.measureString(this.series.name,this.font),this.__fontRect=new o(0,0,n.width,n.height);var a=2*n.height;return this.__iconRect=new o(0,0,a,n.height),n.width=n.width+15+a,this.setMeasuredDimension(new r(n.width,h.EXACTLY),new r(n.height,h.EXACTLY)),n},i.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r),this.__fontRect.translate(e,i),this.__iconRect.translate(e+5+this.__fontRect.width,i)},i.prototype.onDraw=function(t){t.drawText(this.series.name,this.__fontRect.startPoint,this.font),this.icon.draw(this.__iconRect,t)},i.prototype.onMouseEvent=function(t){switch(t.action){case u.ACTION_CLICK:console.log("event "),window.EventHandler(new c(t.x,t.y),e.ElementType.SeriesLegend,{series:this.series.name,enable:this.series.enable,action:"enableseries"});break;case u.ACTION_MOUSE_ON:this.series.showlabels=!0,window.EventHandler(new c(t.x,t.y),e.ElementType.SeriesLegend,{series:this.series.name,showlabel:this.series.showlabels,action:"showlabel"});break;case u.ACTION_MOUSE_OUT:this.series.showlabels=!1,window.EventHandler(new c(t.x,t.y),e.ElementType.SeriesLegend,{series:this.series.name,showlabel:this.series.showlabels,action:"showlabel"})}return!1},i}(n),p=function(){return function(){}}(),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.draw=function(t,e){var i=l.style;i.background=this.color,e.drawRect(t.startPoint,t.endPoint,!0,i)},e}(p),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.draw=function(t,e){var i=l.style;i.background=this.color,e.drawArc(t,0,360,i)},e}(p)}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=function(t){function e(){var i=t.call(this,null)||this;return i.priority=e.PRIORITY,i}return __extends(e,t),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){this._style=t},enumerable:!0,configurable:!0}),e.prototype.onMouseEvent=function(t){return console.log("shape ==== "+t.toString()),!0},e.PRIORITY=1e4,e}(t.view.View);e.Shape=i}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";var e=function(e){function i(i,n,a,r,s,o,l){var h=e.call(this)||this;h.__padding=0,h.priority=10*t.Shape.PRIORITY,h.__padding=l,h.text=i,h.labelrect=new t.RotateRect(n,a,r+2*l,s+2*l,null==o||isNaN(o)?0:o),h._xs=[],h._ys=[];for(var c=0;c<4&&c<h.labelrect.points.length;++c)h._xs[c]=h.labelrect.points[c].x,h._ys[c]=h.labelrect.points[c].y;return h}return __extends(i,e),i.prototype.onDraw=function(t){t.drawPolygon(this._xs,this._ys,this.background);var e=this.labelrect.leftTop.clone();e.offset(this.__padding,this.__padding),t.drawText(this.text,e,this._font)},i.prototype.refresh=function(){},i}(t.Shape);t.Label=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(t){null!=t&&t!=this._label&&(this._label=t)},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){},e}(t.Shape);t.PlotShape=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.animation.Animation,a=t.view.event.MotionEvent,r=function(t){function n(e,a,r,s,o,l){var h=t.call(this)||this,c=a,u=e,f=s,_=r;return f<0&&(c+=f,f=Math.abs(f)),h.priority=++n.BarPrority,h.layoutInfo.reset(u,c,u+_,c+f,h.padding,0),h._oldLayoutInfo=h.layoutInfo.clone(),h._style=o,null==o&&(h._style=i.style),h._strokeStyle=l,null==l&&(h._strokeStyle=i.strokestyle),h}return __extends(n,t),n.prototype.onDraw=function(e){e.drawRect(this.layoutInfo.innerrect.startPoint,this.layoutInfo.innerrect.endPoint,!0,this._style),t.prototype.onDraw.call(this,e)},n.prototype.onMouseEvent=function(t){switch(t.action){case a.ACTION_MOUSE_ON:var e=new o(this.layoutInfo.innerrect);e.duration=400,e.from=1,e.to=1.3,e.fillAfter=!0,e.id="mouseOn Animation ",console.log("=======> addAnimation on "),console.log("mouse on "),this.startAnimation(e);break;case a.ACTION_MOUSE_OUT:var i=new o(this.layoutInfo.innerrect);i.duration=200,i.from=1.3,i.to=1,i.id="mouseOut Animation ",i.fillAfter=!1,console.log("=======> addAnimation out "),console.log("mouse out "),this.startAnimation(i);break;case a.ACTION_MOUSE_MOVE:case a.ACTION_MOUSE_OUT:}return!0},n.BarPrority=2*e.Shape.PRIORITY,n}(e.PlotShape);e.BarShape=r;var s=function(e){function i(i){var n=e.call(this)||this;return n.ease=new t.view.animation.BounceAnimationEase,n}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){if(i instanceof r){var n=this.from+(this.to-this.from)*t;this.rect.clone();i.layoutInfo.innerrect.top=this.rect.top+this.rect.height-this.rect.height*n,i.layoutInfo.innerrect.height=this.rect.height*n}},i.prototype.onStartAniamtion=function(t,e){this.rect=e.layoutInfo.innerrect.clone()},i.prototype.onEndAnimation=function(t,e){},i}(n);e.BarAnimation=s;var o=function(e){function i(i){var n=e.call(this)||this;return n.id="",n.ease=new t.view.animation.BounceAnimationEase,n}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){if(i instanceof r){var n=this.from+(this.to-this.from)*t;this.rect.clone();i.layoutInfo.innerrect.left=this.rect.left+(this.rect.width-this.rect.width*n)/2,i.layoutInfo.innerrect.width=this.rect.width*n,console.log(this.id+" width === "+i.layoutInfo.innerrect.width+" scale "+n+"  interpolatedTime "+t)}},i.prototype.onStartAniamtion=function(t,i){e.prototype.onStartAniamtion.call(this,t,i),console.log("onStartAniamtion view Width "+i.layoutInfo.innerrect.width),this.rect=i.layoutInfo.innerrect.clone()},i.prototype.onEndAnimation=function(t,i){e.prototype.onEndAnimation.call(this,t,i),console.log("onEndAnimation view Width "+i.layoutInfo.innerrect.width)},i}(n);e.BarWidthAnimation=o}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.animation.Animation,a=t.view.event.MotionEvent,r=function(t){function n(e,a,r,s,o,l){var h=t.call(this)||this;h.__oldColor=null;var c=a,u=e,f=s,_=r;return f<0&&(c+=f,f=Math.abs(f)),h.priority=++n.CubePrority,h.layoutInfo.reset(u,c,u+_,c+f,h.padding,0),h._oldLayoutInfo=h.layoutInfo.clone(),h._style=o,null==o&&(h._style=i.style),h._strokeStyle=l,null==l&&(h._strokeStyle=i.strokestyle),h.background=null,h}return __extends(n,t),n.prototype.onDraw=function(e){e.drawRect(this.layoutInfo.innerrect.startPoint,this.layoutInfo.innerrect.endPoint,!0,this._style),t.prototype.onDraw.call(this,e),(null==this.animation||this.animation.isAniamtionEnd)&&e.drawText(this.text,this.layoutInfo.innerrect.startPoint,i.font)},n.prototype.onMouseEvent=function(t){switch(t.action){case a.ACTION_MOUSE_ON:if("string"==typeof this.style.background){null==this.__oldColor&&(this.__oldColor=this.style.background);var i=e.ColorUtils.gradientColor(this.__oldColor,"#ffffff",3);this.style.background=i[1]}console.log("mouse on "),this.invalidate(!0);break;case a.ACTION_MOUSE_OUT:this.style.background=this.__oldColor,this.invalidate(!0),console.log("mouse out ");break;case a.ACTION_MOUSE_MOVE:break;case a.ACTION_CLICK:console.log("click "),null!=this.scaleCallBack&&this.scaleCallBack(this.layoutInfo.innerrect)}return!0},n.CubePrority=1*e.Shape.PRIORITY,n}(e.PlotShape);e.CubeShape=r;var s=function(e){function i(i){var n=e.call(this)||this;return n.ease=new t.view.animation.BounceAnimationEase,n}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){if(i instanceof r){var n=this.from+(this.to-this.from)*t;this.rect.clone();i.layoutInfo.innerrect.left=this.rect.left+(this.rect.width-this.rect.width*n)/2,i.layoutInfo.innerrect.width=this.rect.width*n,i.layoutInfo.innerrect.top=this.rect.top+(this.rect.height-this.rect.height*n)/2,i.layoutInfo.innerrect.height=this.rect.height*n}},i.prototype.onStartAniamtion=function(t,i){e.prototype.onStartAniamtion.call(this,t,i),this.rect=i.layoutInfo.innerrect.clone()},i.prototype.onEndAnimation=function(t,i){e.prototype.onEndAnimation.call(this,t,i)},i}(n);e.CubeAnimation=s}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.device.Default,n=function(t){function e(e,n,a,r,s,o,l,h){var c=t.call(this)||this;return c.layoutInfo.reset(e-r,n-r,e+r,n+r,c.padding,0),c._oldLayoutInfo=c.layoutInfo.clone(),c._cx=e,c._cy=n,c._innerRadius=a,c._radius=r,c._startAngle=s,c._sweep=o,c._style=l,null==l&&(c._style=i.style),c._strokeStyle=h,null==h&&(c._strokeStyle=i.strokestyle),c._sweep<0&&(c._startAngle=c._startAngle+c._sweep,c._sweep=-1*c._sweep),c}return __extends(e,t),e.prototype.onDraw=function(t){t.drawDonut(this._cx,this._cy,this._radius,this._innerRadius,this._startAngle,this._sweep,this._style)},e}(e.PlotShape);e.RadialBarShape=n}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.animation.Animation,a=function(t){function e(e,n,a,r,s,o,l,h){var c=t.call(this)||this;return c.layoutInfo.reset(e-r,n-r,e+r,n+r,c.padding,0),c._oldLayoutInfo=c.layoutInfo.clone(),c._cx=e,c._cy=n,c._innerRadius=a,c._radius=r,c._startAngle=s,c._sweep=o,c._style=l,null==l&&(c._style=i.style),c._strokeStyle=h,null==h&&(c._strokeStyle=i.strokestyle),c._sweep<0&&(c._startAngle=c._startAngle+c._sweep,c._sweep=-1*c._sweep),c}return __extends(e,t),e.prototype.onDraw=function(t){t.drawDonut(this._cx,this._cy,this._radius,this._innerRadius,this._startAngle,this._sweep,this._style)},e}(e.PlotShape);e.SunburstShape=a;var r=function(i){function n(){var e=i.call(this)||this;return e.ease=new t.view.animation.BounceAnimationEase,e}return __extends(n,i),n.prototype.applyTransformation=function(t,i,n){if(n instanceof a||n instanceof e.RadialBarShape){var r=this.from+(this.to-this.from)*t;n._radius=r*this._radius}},n.prototype.onStartAniamtion=function(t,n){i.prototype.onStartAniamtion.call(this,t,n),(n instanceof a||n instanceof e.RadialBarShape)&&(this._radius=n._radius,this._sweep=n._sweep)},n.prototype.onEndAnimation=function(t,n){i.prototype.onEndAnimation.call(this,t,n),(n instanceof a||n instanceof e.RadialBarShape)&&(n._radius=this._radius,n._sweep=this._sweep)},n}(n);e.RadiusAnimation=r;var s=function(i){function n(){var e=i.call(this)||this;return e.ease=new t.view.animation.BounceAnimationEase,e}return __extends(n,i),n.prototype.applyTransformation=function(t,i,n){if(n instanceof a||n instanceof e.RadialBarShape){var r=this.from+(this.to-this.from)*t;n._sweep=r*this._sweep}},n.prototype.onStartAniamtion=function(t,n){i.prototype.onStartAniamtion.call(this,t,n),(n instanceof a||n instanceof e.RadialBarShape)&&(this._radius=n._radius,this._sweep=n._sweep)},n.prototype.onEndAnimation=function(t,n){i.prototype.onEndAnimation.call(this,t,n),(n instanceof a||n instanceof e.RadialBarShape)&&(n._radius=this._radius,n._sweep=this._sweep)},n}(n);e.SweepAnimation=s}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.event.MotionEvent,a=t.view.animation.Animation,r=function(t){function a(e,n,r,s,o,l){var h=t.call(this)||this,c=n,u=e,f=s,_=r;return f<0&&(c+=f,f=Math.abs(f)),h.layoutInfo.reset(u,c,u+_,c+f,h.padding,0),h._oldLayoutInfo=h.layoutInfo.clone(),h._style=o,null==o&&(h._style=i.style),h._strokeStyle=l,null==l&&(h._strokeStyle=i.strokestyle),h.priority=++a.ScatterPrority,h}return __extends(a,t),a.prototype.onDraw=function(t){t.drawArc(this.layoutInfo.innerrect,0,360,this.style)},a.prototype.onMouseEvent=function(t){switch(console.log("shape ==== "+t.toString()),t.action){case n.ACTION_MOUSE_ON:var e=new s(this.layoutInfo.innerrect);e.duration=400,e.from=1,e.to=1.2,e.fillAfter=!0,this.startAnimation(e);break;case n.ACTION_MOUSE_OUT:var i=new s(this.layoutInfo.innerrect);i.duration=200,i.from=1.2,i.to=1,i.fillAfter=!1,this.startAnimation(i);break;case n.ACTION_MOUSE_MOVE:case n.ACTION_MOUSE_OUT:}return!0},a.ScatterPrority=3*e.Shape.PRIORITY,a}(e.PlotShape);e.ScatterShape=r;var s=function(e){function i(i){var n=e.call(this)||this;return n.ease=new t.view.animation.BounceAnimationEase,n}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){var n=this.from+(this.to-this.from)*t;this.rect.clone();n-=1,i.layoutInfo.innerrect.left=this.rect.left-n*i.layoutInfo.innerrect.width/2,i.layoutInfo.innerrect.top=this.rect.top-n*i.layoutInfo.innerrect.height/2,i.layoutInfo.innerrect.width=this.rect.width+n*i.layoutInfo.innerrect.width,i.layoutInfo.innerrect.height=this.rect.height+n*i.layoutInfo.innerrect.height},i.prototype.onStartAniamtion=function(t,e){this.rect=e.layoutInfo.innerrect.clone()},i.prototype.onEndAnimation=function(t,e){},i}(a);e.ScatterAnimation=s}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.device.Default,n=function(t){function n(a,r,s,o){var l=t.call(this)||this;l.priority=++n.LinesPrority,l.__xs=a,l.__ys=r;var h=e.Utility.min(a),c=e.Utility.min(r),u=e.Utility.max(a),f=e.Utility.max(r);return l.layoutInfo.reset(h,c,u,f,l.padding,0),l._oldLayoutInfo=l.layoutInfo.clone(),l._style=s,null==s&&(l._style=i.style),l._strokeStyle=o,null==o&&(l._strokeStyle=i.strokestyle),l}return __extends(n,t),Object.defineProperty(n.prototype,"strokeStyle",{get:function(){return this._strokeStyle},set:function(t){this._strokeStyle=t},enumerable:!0,configurable:!0}),n.prototype.onDraw=function(t){t.save(),t.clip(this.layoutInfo.innerrect),t.drawLines(this.__xs,this.__ys,this._strokeStyle),t.restore()},n.LinesPrority=4*e.PlotShape.PRIORITY,n}(e.PlotShape);e.LinesShape=n}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.animation.Animation,a=t.view.event.MotionEvent,r=function(t){function n(n,a,r,s){var o=t.call(this)||this;o.priority=e.Shape.PRIORITY+1,o.__xs=n,o.__ys=a,o._style=r;var l=Math.min.apply(Math,n),h=Math.min.apply(Math,a),c=Math.max.apply(Math,n),u=Math.max.apply(Math,a);return o.layoutInfo.reset(l,h,c,u,o.padding,0),o._oldLayoutInfo=o.layoutInfo.clone(),null==r&&(o._style=i.style),o._strokeStyle=s,null==s&&(o._strokeStyle=i.strokestyle),o}return __extends(n,t),Object.defineProperty(n.prototype,"strokeStyle",{get:function(){return this._strokeStyle},set:function(t){this._strokeStyle=t},enumerable:!0,configurable:!0}),n.prototype.onDraw=function(t){t.save(),t.clip(this.layoutInfo.innerrect),t.drawPolygon(this.__xs,this.__ys,this.style),t.restore()},n.prototype.onMouseEvent=function(t){switch(t.action){case a.ACTION_MOUSE_ON:console.log("mouse on ");break;case a.ACTION_MOUSE_OUT:console.log("mouse out ");break;case a.ACTION_MOUSE_MOVE:case a.ACTION_MOUSE_OUT:}return!0},n}(e.PlotShape);e.AreaShape=r;var s=function(e){function i(i){var n=e.call(this)||this;return n.ease=new t.view.animation.AnimationEase,n}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){var n=this.from+(this.to-this.from)*t;this.rect.clone();i.layoutInfo.innerrect.width=this.rect.width*n},i.prototype.onStartAniamtion=function(t,e){this.rect=e.layoutInfo.innerrect.clone()},i.prototype.onEndAnimation=function(t,e){},i}(n);e.AreaAnimation=s}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.device.Default,n=t.graphics.Point,a=function(t){function e(e,a,r,s,o){var l=t.call(this)||this;return l.startPoint=new n(e,a),l.endPoint=new n(r,s),l._strokeStyle=o,null==o&&(l._strokeStyle=i.strokestyle),l}return __extends(e,t),e.prototype.onDraw=function(t){t.drawLine(this.startPoint,this.endPoint,this._strokeStyle)},e.prototype.refresh=function(){},e}(e.Shape);e.AxisLineShape=a}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";var e=function(){function t(){this.__shapelist=[]}return t.prototype.convert=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];throw"fuck Error"},Object.defineProperty(t.prototype,"shapeList",{get:function(){return this.__shapelist},enumerable:!0,configurable:!0}),t}();t.BaseLayout=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){!function(e){"use strict";var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t.BaseLayout);e.CartesianBaseLayout=i}(t.cartesian||(t.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.device.Default,a=function(t){function i(){var e=t.call(this)||this;return e.barStyle=n.style,e.lineStyle=n.strokestyle,e._locationCache=[],e._stack=!1,e._rect=null,e}return __extends(i,t),i.prototype.convert=function(t,e,i,n){this.__shapelist.length=0,this._serieslist=[];for(var a=0,r=t;a<r.length;a++){var s=r[a];this._serieslist.push(s.clone())}this._encoding=e,this._locationCache=[],this.__scalePairs=[],this._stack=e._stack,this._rect=i,this.__analyseScales();for(var o=0;o<this._serieslist.length;++o)this._layoutSeries(this._serieslist[o],o,n);return this.__shapelist},i.prototype.__analyseScales=function(){this._createLayoutScales(this._encoding);for(var t=0,i=this._serieslist;t<i.length;t++)for(var n=0,a=i[t].scalePairs;n<a.length;n++){var r=a[n],s=r.filed,o=r.scale;"x"==s.name?o instanceof e.OrdinalScale&&!0===s.band?o.rangeBounds([this._rect.left,this._rect.right]):o.range([this._rect.left,this._rect.right]):"y"==s.name&&(o instanceof e.OrdinalScale?!0===s.band?o.rangeBounds([this._rect.bottom,this._rect.top]):o.range([this._rect.bottom,this._rect.top]):(o=e.LinearTicks.create(o).niceScale()).range([this._rect.bottom,this._rect.top]))}},i.prototype._createLayoutScales=function(t){if(this._serieslist.length>1)for(var e=0;e<this._serieslist.length;++e)for(var i=0,n=(h=this._serieslist[e]).scalePairs;i<n.length;i++){for(var a=(f=n[i]).filed,r=!1,s=0,o=this.__scalePairs;s<o.length;s++){var l=o[s];if(l.filed.equals(a)&&l.scale.equal(f.scale)){r=!0,l.series.push(h.name);break}}r||this.__scalePairs.push({series:[h.name],filed:a,scale:f.scale})}else if(1==this._serieslist.length)for(var h=this._serieslist[0],c=0,u=h.scalePairs;c<u.length;c++){var f=u[c];this.__scalePairs.push({series:[h.name],filed:f.filed,scale:f.scale})}},Object.defineProperty(i.prototype,"maxSeriesSize",{get:function(){var t=this._getScale("x");return t instanceof e.OrdinalScale?t.domains.length:e.Utility.max(this._serieslist.map(function(t,e,i){return t.size}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),i.prototype._getScale=function(t){var e=_.findIndex(this.__scalePairs,function(e){return e.filed.name==t});return this.__scalePairs[e].scale},i}(e.BaseLayout);i.CartesianLayout=a}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.graphics.Style,a=t.device.Default,r=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),Object.defineProperty(i.prototype,"barWidth",{get:function(){return this._rect.width/this.maxSeriesSize/(this._stack?1:this._serieslist.length)*.9},enumerable:!0,configurable:!0}),i.prototype._layoutSeries=function(t,i,r){this._serieslist.length;var s=t.getScale("x"),o=t.getScale("y"),l=t.getScale("color"),h=[];l instanceof e.OrdinalScale&&(l=l.clone(),h=e.ColorUtils.gradientColor(l.startPosition,l.endPosition,l.domains.length),l.range([0,l.domains.length-1]));for(var c=e.ColorUtils.indexColor(t.index),u=0,f=t.points;u<f.length;u++){var _=f[u];if(null!=_){var p=_.x,d=_.y,y=_.color,g=(_.shape,_.size,_.tooltip,_.text),m=s.getScaleValue(p.value)+(this._stack?0:(i-(this._serieslist.length-1)/2)*this.barWidth),v=d.isMultiple?d.value[0]:o.min<0?0:o.min,b=d.isMultiple?d.value[1]:d.value,w=o.getScaleValue(b),S=c;l instanceof e.OrdinalScale?S=h[l.getScaleValue(y.value)]:l instanceof e.LinearScale&&(S=e.ColorUtils.getColor(l.startPosition,l.endPosition,y.value,l.min,l.max));var x=o.getScaleValue(v),T=m-this.barWidth/2,A=m+this.barWidth/2,P=new e.BarShape(T,w,A-T,x-w);if(P.style=new n("gray",a.strokestyle),P.style.background=null!=S?S:c,t.showlabels&&null!=g){var L=g.value,M=a.font;M.fontColor="black",M.fontSize=12;var k=r.measureString(L,M),O=k.width,C=k.height;P.label=new e.Label(L,(T+A)/2,w-C/2-3,O,C,0,5),P.label._font=M,P.label.background=a.style,P.label.background.strokeStyle.strokeColor="white",P.label.background.background="white"}this.__shapelist.push(P)}}},i}(i.CartesianLayout);i.BarLayout=r}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),Object.defineProperty(i.prototype,"barWidth",{get:function(){return this._rect.width/this.maxSeriesSize/(this._stack?1:this._serieslist.length)*.9},enumerable:!0,configurable:!0}),i.prototype._layoutSeries=function(t,i,a){this._serieslist.length;var r=t.getScale("x"),s=t.getScale("y"),o=t.getScale("color"),l=t.getScale("size"),h=e.ColorUtils.indexColor(t.index),c=[];o instanceof e.OrdinalScale&&(o=o.clone(),c=e.ColorUtils.gradientColor(o.startPosition,o.endPosition,o.domains.length),o.range([0,o.domains.length-1]));for(var u=0,f=t.points;u<f.length;u++){var _=f[u];if(null!=_){var p=_.x,d=_.y,y=_.color,g=(_.shape,_.size),m=(_.tooltip,_.text),v=r.getScaleValue(p.value),b=s.getScaleValue(d.isMultiple?d.value[1]:d.value),w=l.getScaleValue(g.value);(isNaN(w)||null==w||w<=0)&&(w=10);var S=h;o instanceof e.OrdinalScale?S=c[o.getScaleValue(y.value)]:o instanceof e.LinearScale&&(S=e.ColorUtils.getColor(o.startPosition,o.endPosition,y.value,o.min,o.max));var x=new e.ScatterShape(v-w/2,b-w/2,w,w,n.style);if(x.style.background=null!=S?S:h,t.showlabels&&null!=m){var T=m.value,A=n.font;A.fontColor="black",A.fontSize=12;var P=a.measureString(T,A),L=P.width,M=P.height;x.label=new e.Label(T,v,b-w/2-3,L,M,0,3),x.label.background=n.style,x.label._font=A,x.label.background.strokeStyle.strokeColor="gray",x.label.background.background="lightblue"}this.__shapelist.push(x)}}},i.prototype._layoutLine=function(){},i}(i.CartesianLayout);i.ScatterLayout=a}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.device.Default,a=function(t){function i(){var e=t.call(this)||this;return e.barStyle=n.style,e.lineStyle=n.strokestyle,e._locationCache=[],e._stack=!1,e}return __extends(i,t),i.prototype.convert=function(t,e,i,n,a,r,s,o){this.__shapelist.length=0,this._serieslist=[];for(var l=0,h=t;l<h.length;l++){var c=h[l];this._serieslist.push(c.clone())}this._encoding=e,this._locationCache=[],this.__scalePairs=[],this._stack=e._stack,this._cx=i,this._cy=n,this._innerRadius=a,this._radius=r,this._startAngle=s,this._endAngle=o,this.__analyseScales();for(var u=0;u<this._serieslist.length;++u)this._layoutSeries(this._serieslist[u],u);return this.__shapelist},i.prototype.__analyseScales=function(){this._createLayoutScales(this._encoding);for(var t=0,i=this._serieslist;t<i.length;t++)for(var n=0,a=i[t].scalePairs;n<a.length;n++){var r=a[n],s=r.filed,o=r.scale;"x"==s.name?o instanceof e.OrdinalScale&&!0===s.band?o.rangeBounds([this._innerRadius,this._radius]):o.range([this._innerRadius,this._radius]):"y"==s.name&&(o instanceof e.OrdinalScale?!0===s.band?o.rangeBounds([this._startAngle,this._endAngle]):o.range([this._startAngle,this._endAngle]):(o=e.LinearTicks.create(o).niceScale()).range([this._startAngle,this._endAngle]))}},i.prototype._createLayoutScales=function(t){if(this._serieslist.length>1)for(var e=0;e<this._serieslist.length;++e)for(var i=0,n=(h=this._serieslist[e]).scalePairs;i<n.length;i++){for(var a=(f=n[i]).filed,r=!1,s=0,o=this.__scalePairs;s<o.length;s++){var l=o[s];if(l.filed.equals(a)&&l.scale.equal(f.scale)){r=!0,l.series.push(h.name);break}}r||this.__scalePairs.push({series:[h.name],filed:a,scale:f.scale})}else if(1==this._serieslist.length)for(var h=this._serieslist[0],c=0,u=h.scalePairs;c<u.length;c++){var f=u[c];this.__scalePairs.push({series:[h.name],filed:f.filed,scale:f.scale})}},Object.defineProperty(i.prototype,"maxSeriesSize",{get:function(){var t=this._getScale("x");return t instanceof e.OrdinalScale?t.domains.length:e.Utility.max(this._serieslist.map(function(t,e,i){return t.size}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),i.prototype._getScale=function(t){var e=_.findIndex(this.__scalePairs,function(e){return e.filed.name==t});return this.__scalePairs[e].scale},i}(e.BaseLayout);i.RadialCartesianLayout=a}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.graphics.Style,a=t.device.Default,r=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),Object.defineProperty(i.prototype,"barWidth",{get:function(){return(this._radius-this._innerRadius)/this.maxSeriesSize/(this._stack?1:this._serieslist.length)*.9},enumerable:!0,configurable:!0}),i.prototype._layoutSeries=function(t,i){this._serieslist.length;var r=t.getScale("x"),s=t.getScale("y"),o=t.getScale("color"),l=[];o instanceof e.OrdinalScale&&(o=o.clone(),l=e.ColorUtils.gradientColor(o.startPosition,o.endPosition,o.domains.length),o.range([0,o.domains.length-1]));for(var h=e.ColorUtils.indexColor(t.index),c=0,u=t.points;c<u.length;c++){var f=u[c];if(null!=f){var _=f.x,p=f.y,d=f.color,y=(f.shape,f.size,r.getScaleValue(_.value)+(this._stack?0:(i-(this._serieslist.length-1)/2)*this.barWidth)),g=p.isMultiple?p.value[0]:s.min<0?0:s.min,m=p.isMultiple?p.value[1]:p.value,v=s.getScaleValue(m),b=h;o instanceof e.OrdinalScale?b=l[o.getScaleValue(d.value)]:o instanceof e.LinearScale&&(b=e.ColorUtils.getColor(o.startPosition,o.endPosition,d.value,o.min,o.max));var w=s.getScaleValue(g),S=y-this.barWidth/2,x=y+this.barWidth/2,T=new e.RadialBarShape(this._cx,this._cy,S,x,w,v-w);T.style=new n("gray",a.strokestyle),T.style.background=null!=b?b:h,this.__shapelist.push(T)}}},i}(i.RadialCartesianLayout);i.RadialBarLayout=r}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype._layoutSeries=function(t,i){this._serieslist.length;for(var a=t.getScale("x"),r=t.getScale("y"),s=(t.getScale("color"),[]),o=[],l=0,h=t.points;l<h.length;l++){var c=h[l];if(null!=c){console.log(c);var u=c.x,f=c.y,_=(c.color,c.shape,c.size,a.getScaleValue(u.value)),p=r.getScaleValue(f.isMultiple?f.value[1]:f.value),d=this._cx+Math.cos(p)*_,y=this._cy+Math.sin(p)*_;s.push(d),o.push(y)}}var g=new e.LinesShape(s,o,null,n.strokestyle);g.strokeStyle.strokeColor=e.ColorUtils.indexColor(t.index),this.__shapelist.push(g)},i.prototype._layoutLine=function(){},i}(i.RadialCartesianLayout);i.RadialLineLayout=a}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype._layoutSeries=function(t,i){this._serieslist.length;for(var a=t.getScale("x"),r=t.getScale("y"),s=(t.getScale("color"),[]),o=[],l=0,h=t.points;l<h.length;l++){var c=h[l];if(null!=c){console.log(c);var u=c.x,f=c.y,_=(c.color,c.shape,c.size,a.getScaleValue(u.value)),p=f.isMultiple?f.value[0]:r.min<0?0:r.min,d=f.isMultiple?f.value[1]:f.value,y=r.getScaleValue(p),g=r.getScaleValue(d),m=this._cx+Math.cos(y)*_,v=this._cy+Math.sin(y)*_,b=this._cx+Math.cos(g)*_,w=this._cy+Math.sin(g)*_;s.push(b),o.push(w),s.unshift(m),o.unshift(v)}}var S=new e.AreaShape(s,o,null,n.strokestyle);S.style.background=e.ColorUtils.indexColor(t.index),this.__shapelist.push(S)},i.prototype._layoutLine=function(){},i}(i.RadialCartesianLayout);i.RadialAreaLayout=a}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),Object.defineProperty(i.prototype,"barWidth",{get:function(){return(this._radius-this._innerRadius)/this.maxSeriesSize/(this._stack?1:this._serieslist.length)*.9},enumerable:!0,configurable:!0}),i.prototype._layoutSeries=function(t,i){this._serieslist.length;var a=t.getScale("x"),r=t.getScale("y"),s=t.getScale("color"),o=t.getScale("size"),l=e.ColorUtils.indexColor(t.index),h=[];s instanceof e.OrdinalScale&&(s=s.clone(),h=e.ColorUtils.gradientColor(s.startPosition,s.endPosition,s.domains.length),s.range([0,s.domains.length-1]));for(var c=0,u=t.points;c<u.length;c++){var f=u[c];if(null!=f){var _=f.x,p=f.y,d=f.color,y=(f.shape,f.size),g=a.getScaleValue(_.value),m=r.getScaleValue(p.isMultiple?p.value[1]:p.value),v=o.getScaleValue(y.value);(isNaN(v)||null==v||v<=0)&&(v=10),console.log("radius "+g+" angle "+m);var b=l;s instanceof e.OrdinalScale?b=h[s.getScaleValue(d.value)]:s instanceof e.LinearScale&&(b=e.ColorUtils.getColor(s.startPosition,s.endPosition,d.value,s.min,s.max));var w=this._cx+Math.cos(m)*g,S=this._cy+Math.sin(m)*g,x=new e.ScatterShape(w-v/2,S-v/2,v,v,n.style);x.style.background=null!=b?b:l,this.__shapelist.push(x)}}},i.prototype._layoutLine=function(){},i}(i.RadialCartesianLayout);i.RadialScatterLayout=a}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype._layoutSeries=function(t,i){this._serieslist.length;for(var a=t.getScale("x"),r=t.getScale("y"),s=[],o=[],l=(e.ColorUtils.indexColor(t.index),0),h=t.points;l<h.length;l++){var c=h[l];if(null!=c){var u=c.x,f=c.y,_=(c.color,c.shape,c.size,a.getScaleValue(u.value)),p=f.isMultiple?f.value[1]:f.value;p=r.getScaleValue(p),s.push(_),o.push(p)}}var d=new e.LinesShape(s,o,null,n.strokestyle);d.strokeStyle.strokeColor=e.ColorUtils.indexColor(t.index),d.style.strokeStyle=null,this.__shapelist.push(d)},i.prototype._layoutLine=function(){},i}(i.CartesianLayout);i.LineLayout=a}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype._layoutSeries=function(t,i){this._serieslist.length;for(var a=t.getScale("x"),r=t.getScale("y"),s=(t.getScale("color"),[]),o=[],l=0,h=t.points;l<h.length;l++){var c=h[l];if(null!=c){var u=c.x,f=c.y,_=(c.color,c.shape,c.size,a.getScaleValue(u.value)),p=f.isMultiple?f.value[0]:r.min<0?0:r.min,d=f.isMultiple?f.value[1]:f.value;p=r.getScaleValue(p),d=r.getScaleValue(d),s.push(_),o.push(p),s.unshift(_),o.unshift(d)}}var y=new e.AreaShape(s,o,null,n.strokestyle);y.style.background=e.ColorUtils.indexColor(t.index),y.style.strokeStyle=null,this.__shapelist.push(y)},i.prototype._layoutLine=function(){},i}(i.CartesianLayout);i.AreaLayout=a}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.device.Default,a=function(t){function e(){var e=t.call(this)||this;return e._rect=null,e._depth=0,e._offset=1,e.style=n.style,e.lineStyle=n.strokestyle,e._depth=0,e}return __extends(e,t),e.prototype._calcDeep=function(t){this._depth=0,this._depth=this.__calcDeep(t)+1},e.prototype.__calcDeep=function(t){if(null!=t&&t.length>0){for(var e=0,i=0,n=t;i<n.length;i++){var a=n[i],r=this.__calcDeep(a.children);a._hidden=!1,e<r&&(e=r)}return++e}return 0},e}(e.BaseLayout);i.HierarchicalLayout=a}(e.hierarchical||(e.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.device.Default,a=function(t){function i(e,i,n){var a=t.call(this)||this;return a.__startAngle=e,a.__innerRadius=n,a.__sweep=i,a}return __extends(i,t),i.prototype.convert=function(t,e,i,n){this._calcDeep(t),this.__cx=(i.left+i.right)/2,this.__cy=(i.top+i.bottom)/2,this.__radius=i.width<i.height?i.width/2:i.height/2,this.__radiusUnit=(this.__radius-this.__innerRadius-this._offset)/(this._depth-1);var a=new r(t,this.__cx,this.__cy,this.__startAngle,this.__sweep+this.__startAngle,this.__innerRadius,this.__innerRadius+this.__radiusUnit,0,0);return this.__calcSum(a),this.__preangle=a.sweep/a.sum,this.__layoutItems(a,n),null},i.prototype.__layoutItems=function(t,i){for(var a=t.startAngle,s=0;s<t.vs.length;++s){var o=t.vs[s],l=o.size.value*this.__preangle,h=t.cx,c=t.cy;0==t.depth&&(h=t.cx+this._offset*Math.cos(a+l/2),c=t.cy+this._offset*Math.sin(a+l/2));var u=new e.SunburstShape(h,c,t.innerRadius,t.radius,a,l,n.style,n.strokestyle);if(u.style.background=e.ColorUtils.indexColor(parseInt(o._id)),u.id=o._id,u.text=o.text.value,this.__shapelist.push(u),o.children&&o.children.length>0){var f=new r(o.children,h,c,a,a+l,t.radius,t.radius+this.__radiusUnit,0,t.depth+1);this.__calcSum(f),this.__layoutItems(f,i)}a+=l}},i.prototype.__calcSum=function(t){for(var e=0,i=0,n=t.vs;i<n.length;i++){var a=n[i];e+=null==a.size.value||isNaN(a.size.value)?0:a.size.value}t.sum=e},i}(i.HierarchicalLayout);i.SunburstLayout=a;var r=function(){function t(t,e,i,n,a,r,s,o,l){this.vs=t,this.startAngle=n,this.endAngle=a,this.innerRadius=r,this.radius=s,this.sum=o,this.depth=l,this.cx=e,this.cy=i}return Object.defineProperty(t.prototype,"sweep",{get:function(){return this.endAngle-this.startAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.radius-this.innerRadius},enumerable:!0,configurable:!0}),t}()}(e.hierarchical||(e.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.graphics.Rect,a=t.device.Default,r=t.graphics.Util,s=t.view.ViewState,o=function(t){function i(e){var i=t.call(this)||this;return i._limited=500,i._rect=e,i}return __extends(i,t),i.prototype.convert=function(t,e,i,n){this.__shapelist=[],this._calcDeep(t);var a=new l(t,i.left,i.top,i.right,i.bottom,0,0);return this.__calcSum(a),this.__hideSmallNode(a),this.__layoutItems(a,n),this.__shapelist},i.prototype.__hideSmallNode=function(t){if(null!=t&&null!=t.vs&&t.vs.length>0){var e=t.area/t.sum;t.vs.sort(function(t,e){return t.size.value-e.size.value});t.vs.length;for(var i=0,n=t.vs;i<n.length;i++){var a=n[i];a.size.value*e<this._limited&&(a._hidden=!0,t.sum-=a.size.value,e=t.area/t.sum)}}},i.prototype.__calcSum=function(t){for(var e=0,i=0,n=t.vs;i<n.length;i++)e+=n[i].size.value;t.sum=e},i.prototype.__layoutItems=function(t,i){if(!(t.sum<=0)){var o=new n(t.l,t.t,t.r,t.b),h=t.area/t.sum;t.vs.sort(function(t,e){return e.size.value-t.size.value});for(var c=0;c<t.vs.length&&!o.isNil;){var u=this.__locationRects(t.vs,c,h,o),f=r.union.apply(r,u);o=this.__clipRect(f,o);for(var _=0;_<u.length;++_){var p=u[_],d=t.vs[c],y=new e.CubeShape(p.left,p.top,p.width,p.height,a.style,a.strokestyle);if(y.visiable=s.Visiable,y.style.background=e.ColorUtils.indexColor(parseInt(d._id)),y.id=d._id,y.text=d.text.value,d._hidden)c++;else{if(d.children&&d.children.length>0){var g=0;!isNaN(this._offset)&&this._offset>0&&(g=(this._depth-t.depth)/this._depth*this._offset),p=new n(p.left+g,p.top+g,p.right-g,p.bottom-g);var m=new l(d.children,p.left,p.top,p.left+p.width,p.top+p.height,d.size.value,t.depth+1);this.__calcSum(m),this.__hideSmallNode(m),m.sum>0&&(y.visiable=s.InVisiable,this.__layoutItems(m,i))}this.__shapelist.push(y),++c}}}}},i.prototype.__locationRects=function(t,e,i,a){for(var r=[],s=0,o=0,l=e;l<t.length;++l){var h=t[l],c=void 0,u=0;if(h.size.value<0&&(t.splice(l,1),h=t[l]),a.height<a.width){if(o+=h.size.value,c=o*i/a.height,u=t[e].size.value*i/c,0!=s){p=u>c?u/c:c/u;if(!(Math.abs(p-1)<Math.abs(s-1)))return r;s=p,r.length=0}else s=u>c?u/c:c/u;r.length=0;for(d=e;d<=l;d++){var f=void 0,_=t[d].size.value*i/c;f=d===e?new n(a.left,a.top,a.left+c,a.top+u):new n(r[d-e-1].left,r[d-e-1].bottom,r[d-e-1].left+c,_+r[d-e-1].bottom),r.push(f)}}else{if(o+=h.size.value,u=o*i/a.width,c=t[e].size.value*i/u,0!=s){var p=u>c?u/c:c/u;if(!(Math.abs(p-1)<Math.abs(s-1)))return r;s=p,r.length=0}else s=u>c?u/c:c/u;r.length=0;for(var d=e;d<=l;d++){var f=void 0,y=t[d].size.value*i/u;f=d===e?new n(a.left,a.top,a.left+c,a.top+u):new n(r[d-e-1].right,r[d-e-1].top,r[d-e-1].right+y,r[d-e-1].top+u),r.push(f)}}c,u}return r},i.prototype.__clipRect=function(t,e){return Math.abs(t.width-e.width)<=1e-4?new n(t.left,t.bottom,t.right,e.bottom):new n(t.right,t.top,e.right,t.bottom)},i}(i.HierarchicalLayout);i.TreeMapLayout=o;var l=function(){function t(t,e,i,n,a,r,s){this.vs=t,this.l=e,this.t=i,this.r=n,this.b=a,this.sum=r,this.depth=s}return Object.defineProperty(t.prototype,"w",{get:function(){return this.r-this.l},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.b-this.t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this.w*this.h},enumerable:!0,configurable:!0}),t}()}(e.hierarchical||(e.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";var e=Math.sqrt(50),i=Math.sqrt(10),n=Math.sqrt(2),a=function(){function t(t){this._scale=t,this._ticks=[]}return t.create=function(t,e,i){return null},t.prototype._createTicks=function(t,e,i){var n,a,r,s=e<t,o=-1;if(s&&(n=t,t=e,e=n),0===(r=this._tickIncrement(t,e,i))||!isFinite(r))return[];if(r>0)for(t=Math.ceil(t/r),e=Math.floor(e/r),a=new Array(n=Math.ceil(e-t+1));++o<n;)a[o]=(t+o)*r;else for(t=Math.floor(t*r),e=Math.ceil(e*r),a=new Array(n=Math.ceil(t-e+1));++o<n;)a[o]=(t-o)/r;return s&&a.reverse(),a},t.prototype._tickIncrement=function(t,a,r){var s=(a-t)/Math.max(0,r),o=Math.floor(Math.log(s)/Math.LN10),l=s/Math.pow(10,o);return o>=0?(l>=e?10:l>=i?5:l>=n?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(l>=e?10:l>=i?5:l>=n?2:1)},t.prototype._tickStep=function(t,a,r){var s=Math.abs(a-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),l=s/o;return l>=e?o*=10:l>=i?o*=5:l>=n&&(o*=2),a<t?-o:o},t}();t.Ticks=a}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.create=function(e){return t.Debug.assert(e instanceof t.LinearScale," scale must be LinearScale"),new i(e)},i.prototype.createTicks=function(t){return(null==t||isNaN(t))&&(t=10),this._ticks=this._createTicks(this._scale.max,this._scale.min,t),this._ticks},i.prototype.niceScale=function(){var t=this._scale,e=this._tickStep(t.min,t.max,10);0==e&&(e=1);var i=0===t.min?0:Math.floor(t.min/e)*e,n=(Math.floor(t.max/e)+1)*e;return t.domain([i,n]).refresh(),t},i}(t.Ticks);t.LinearTicks=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.create=function(e){return t.Debug.assert(e instanceof t.LogScale," scale must be LinearScale"),new i(e)},i.prototype.createTicks=function(t){return(null==t||isNaN(t))&&(t=10),this._ticks=this._createTicks(this._scale.max,this._scale.min,t),this._ticks},i}(t.Ticks);t.LogTicks=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){"use strict";var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.create=function(e){return t.Debug.assert(e instanceof t.OrdinalScale," scale must be OrdinalScale"),new i(e)},i.prototype.createTicks=function(t){if(null!=t){this._ticks=[];var e=this._scale.domains;if(e.length/t<2)this._ticks=this._scale.domains;else for(var i=Math.floor(e.length/t),n=0;n<e.length;n+=i)this._ticks.push(e[n])}else this._ticks=this._scale.domains;return this._ticks},i}(t.Ticks);t.OrdinalTicks=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=t.device.Default,n=function(t){function e(){var e=t.call(this)||this;return e._major=i.strokestyle.clone(),e._minor=i.strokestyle.clone(),e._lableFont=i.font.clone(),e._showLabel=!0,e}return __extends(e,t),e.prototype.onDraw=function(t){t.save();for(var e=[],i=[],n=this._lableRect.points,a=0;a<4;++a)e.push(n[a].x),i.push(n[a].y);t.drawLine(this._majorTick.startPoint,this._majorTick.endPoint,this._major),this._showLabel&&t.drawText(this._label,this._lableRect.leftTop,this._lableFont,this._lableRect.leftTop,180*this._lableRect.angle/Math.PI),t.drawLine(this._minorTick.startPoint,this._minorTick.endPoint,this._minor),t.restore()},e.prototype.refresh=function(){},e}(e.Shape);e.AxisShape=n}(t.test||(t.test={}))}(android||(android={}));var LABEL_PADDING=4,MAJOR_TICK_HEIGHT=6,MINOR_TICK_HEIGHT=4;!function(t){!function(e){!function(e){"use strict";var i=t.view.View,n=t.device.Default,a=function(t){function e(e){var i=t.call(this,e)||this;return i._majorTickHeight=MAJOR_TICK_HEIGHT,i._minorTickHeight=MINOR_TICK_HEIGHT,i._ticks=[],i._titleFont=n.font,i._labelFont=n.font,i._majorStyle=n.strokestyle,i._minorStyle=n.strokestyle,i._near=!0,i._labelFont.fontColor="#262626",i._series=[],i}return __extends(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"majorStyle",{get:function(){return this._majorStyle},set:function(t){this._majorStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minorStyle",{get:function(){return this._minorStyle},set:function(t){this._minorStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineStyle",{get:function(){return this._lineStyle},set:function(t){this._lineStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleFont",{get:function(){return this._titleFont},set:function(t){this._titleFont=t.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelFont",{get:function(){return this._labelFont},set:function(t){this._labelFont=t.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){this._max=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){this._min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){this._series=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(t){null==t||t.equal(this._scale)?null==t&&(this._scale=null,this._ticks=[]):(this._scale=t,console.log("set scale "+t),this._ticks=this._createTicks())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._axisType},set:function(t){this._axisType=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"near",{get:function(){return this._near},set:function(t){this._near=t},enumerable:!0,configurable:!0}),e.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},e.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r)},e.prototype.onDraw=function(e){t.prototype.onDraw.call(this,e)},e.prototype._format=function(t){return t+""},e}(i);e.BaseAxis=a}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.view.MeasureSpec,a=t.graphics.Size,r=t.graphics.Gravity,s=t.view.LayoutParams,o=t.graphics.Point,l=function(t){function l(e){var i=t.call(this,e)||this;return i._maxLabelSize=new a(0,0),i}return __extends(l,t),Object.defineProperty(l.prototype,"near",{get:function(){return this._near},set:function(t){this._near=t,t?this.type==i.AxisType.X?this.gravity=r.Bottom:this.type==i.AxisType.Y&&(this.gravity=r.Left):this.type==i.AxisType.X?this.gravity=r.Top:this.type==i.AxisType.Y&&(this.gravity=r.Right)},enumerable:!0,configurable:!0}),l.prototype._createTicks=function(){var t=[];return this.scale instanceof e.LinearScale?t=e.LinearTicks.create(this.scale).createTicks(10):this.scale instanceof e.LogScale?t=e.LogTicks.create(this.scale).createTicks(10):this.scale instanceof e.OrdinalScale&&(t=e.OrdinalTicks.create(this.scale).createTicks()).length>30&&(t=e.OrdinalTicks.create(this.scale).createTicks(30)),t},l.prototype._layoutXAxis=function(t){var i=this._ticks;this._children=[];for(var n,a=0;i&&a<i.length;++a){var r=i[a],s=a>=i.length?null:i[a+1],o=Math.max(this._majorTickHeight,this._minorTickHeight),l=this._format(r),h=t.measureString(l,this.labelFont),c=this.scale.getScaleValue(r),u=this.layoutInfo.innerrect.top,f=NaN;null!=s&&(f=this.scale.getScaleValue(s),u);var _=c,p=u+o+LABEL_PADDING+h.height/2,d=new e.AxisShape;d._lableRect=new e.RotateRect(_,p,h.width,h.height,0),d._majorTick=new e.RotateLine(c,u,this._majorTickHeight,0,0),d._label=l,d._lableFont=this._labelFont,d._major=this.majorStyle,d._minor=this.minorStyle;var y=NaN;isNaN(f)||(y=(c+f)/2),d._minorTick=new e.RotateLine(y,u,this._minorTickHeight,0,0),null!=n&&e.Utility.isMixedRotatedRect(d._lableRect,n._lableRect)?d._showLabel=!1:(d._showLabel=!0,n=d),this._children.push(d)}},l.prototype._layoutYAxis=function(t){var i=this._ticks;this._children=[];for(var n=0;i&&n<i.length;++n){var a=i[n],r=n>=i.length?null:i[n+1],s=Math.max(this._majorTickHeight,this._minorTickHeight),o=this._format(a),l=t.measureString(o,this.labelFont),h=this.scale.getScaleValue(a),c=this.layoutInfo.innerrect.right;this.near||(c=this.layoutInfo.innerrect.left);var u=NaN;null!=r&&(u=this.scale.getScaleValue(r),c);var f=c-l.width/2-LABEL_PADDING-s,_=h;this.near||(f=c+l.width/2+LABEL_PADDING+s);var p=new e.AxisShape;p._lableRect=new e.RotateRect(f,_,l.width,l.height,0),p._majorTick=new e.RotateLine(c,h,this._majorTickHeight,0,this.near?Math.PI/2:-Math.PI/2),p._label=o,p._lableFont=this.labelFont,p._major=this.majorStyle,p._minor=this.minorStyle;var d=NaN;isNaN(u)||(d=(h+u)/2),p._minorTick=new e.RotateLine(c,d,this._minorTickHeight,0,this.near?Math.PI/2:-Math.PI/2),this._children.push(p)}},l.prototype.onMeasure=function(e,r,o){var l=null;return this._axisType==i.AxisType.X?(l=new a(e.value,this._measureX(o)),this.setMeasuredDimension(new n(l.width,s.EXACTLY),new n(l.height,s.EXACTLY)),l):this._axisType==i.AxisType.Y?(l=new a(this._measureY(o),r.value),this.setMeasuredDimension(new n(l.width,s.EXACTLY),new n(l.height,s.EXACTLY)),l):t.prototype.onMeasure.call(this,e,r,o)},l.prototype._measureX=function(t){for(var e=t.measureString(this.title,this.titleFont),i=Math.max(this._majorTickHeight,this._minorTickHeight),n=new a(0,0),r=0,s=this._ticks;r<s.length;r++){var o=s[r],l=t.measureString(this._format(o),this.labelFont);n.width=Math.max(l.width,n.width),n.height=Math.max(l.height,n.height)}return this._maxLabelSize=n.clone(),n.height+e.height+i},l.prototype._measureY=function(t){for(var e=t.measureString(this.title,this.titleFont),i=Math.max(this._majorTickHeight,this._minorTickHeight),n=new a(0,0),r=0,s=this._ticks;r<s.length;r++){var o=s[r],l=t.measureString(this._format(o),this.labelFont);n.width=Math.max(l.width,n.width),n.height=Math.max(l.height,n.height)}return this._maxLabelSize=n.clone(),n.width+e.height+i},l.prototype.onLayout=function(e,n,a,r,s){t.prototype.onLayout.call(this,e,n,a,r,s),null!=this.scale&&(this._axisType===i.AxisType.X?this._layoutXAxis(s):this._axisType==i.AxisType.Y&&this._layoutYAxis(s))},l.prototype.onDraw=function(e){if(t.prototype.onDraw.call(this,e),this._drawLine(e),null!=this._children)for(var i=0,n=this._children;i<n.length;i++)n[i].onDraw(e)},l.prototype._drawLine=function(t){var e=this.layoutInfo.innerrect;this._axisType==i.AxisType.X?this._near?t.drawLine(new o(e.left,e.top),new o(e.right,e.top),this.lineStyle):t.drawLine(new o(e.left,e.bottom),new o(e.right,e.bottom),this.lineStyle):this._axisType==i.AxisType.Y&&(this._near?t.drawLine(new o(e.right,e.top),new o(e.right,e.bottom),this.lineStyle):t.drawLine(new o(e.left,e.top),new o(e.left,e.bottom),this.lineStyle))},l}(i.BaseAxis);i.LineAxis=l}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.view.MeasureSpec,a=t.graphics.Size,r=t.graphics.Gravity,s=t.view.LayoutParams,o=t.graphics.Point,l=t.device.Default,h=function(t){function h(e){var i=t.call(this,e)||this;return i.__innerRadius=0,i.__startAngle=0,i.__sweep=0,i.__radius=0,i.__cx=0,i.__cy=0,i.__innerRadius=0,i._lineStyle=l.strokestyle,i}return __extends(h,t),Object.defineProperty(h.prototype,"near",{get:function(){return this._near},set:function(t){this._near=t,t?this.type==i.AxisType.X?this.gravity=r.Bottom:this.type==i.AxisType.Y&&(this.gravity=r.Left):this.type==i.AxisType.X?this.gravity=r.Top:this.type==i.AxisType.Y&&(this.gravity=r.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"_cx",{get:function(){return this.__cx},set:function(t){this.__cx=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"_cy",{get:function(){return this.__cy},set:function(t){this.__cy=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"_radius",{get:function(){return this.__radius},set:function(t){this.__radius=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"_innerRadius",{get:function(){return this.__innerRadius},set:function(t){this.__innerRadius=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"_startAngle",{get:function(){return this.__startAngle},set:function(t){this.__startAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"_sweep",{get:function(){return this.__sweep},set:function(t){this.__sweep=t},enumerable:!0,configurable:!0}),h.prototype._createTicks=function(){var t=[];return this.scale instanceof e.LinearScale?t=e.LinearTicks.create(this.scale).createTicks(10):this.scale instanceof e.LogScale?t=e.LogTicks.create(this.scale).createTicks(10):this.scale instanceof e.OrdinalScale&&(t=e.OrdinalTicks.create(this.scale).createTicks()),t},h.prototype._layoutXAxis=function(t){var i=this._ticks;this._children=[];for(var n=0;i&&n<i.length;++n){var a=i[n],r=n>=i.length?null:i[n+1],s=Math.max(this._majorTickHeight,this._minorTickHeight),o=this._format(a),l=t.measureString(o,this.labelFont),h=this.scale.getScaleValue(a),c=this._cx+Math.cos(this._startAngle)*h,u=this._cy+Math.sin(this._startAngle)*h,f=NaN;if(null!=r){var _=this.scale.getScaleValue(r);f=this._cx+Math.cos(this._startAngle)*_,this._cy+Math.sin(this._startAngle)*_}Math.sin(this._startAngle),l.height,Math.cos(this._startAngle),l.height;var p=c,d=u+s+LABEL_PADDING+l.height/2,y=new e.AxisShape;y._lableRect=new e.RotateRect(p,d,l.width,l.height,0),y._majorTick=new e.RotateLine(c,u,this._majorTickHeight,0,this._startAngle),y._label=o,y._lableFont=this._labelFont,y._major=this.majorStyle,y._minor=this.minorStyle;var g=NaN,m=NaN,v=NaN;isNaN(f)||(v=this.scale.getScaleValue((a+r)/2),g=this._cx+Math.cos(this._startAngle)*v,m=this._cy+Math.sin(this._startAngle)*v),y._minorTick=new e.RotateLine(g,m,this._minorTickHeight,0,this._startAngle),this._children.push(y)}},h.prototype._layoutYAxis=function(t){var i=this._ticks;this._children=[];for(var n=0;i&&n<i.length;++n){var a=i[n],r=n>=i.length?null:i[n+1],s=Math.max(this._majorTickHeight,this._minorTickHeight),o=this._format(a),l=t.measureString(o,this.labelFont),h=this.scale.getScaleValue(a),c=this._cx+Math.cos(h)*this._radius,u=this._cy+Math.sin(h)*this._radius,f=NaN;if(null!=r){var _=this.scale.getScaleValue(r);this._cx+Math.cos(_)*this._radius,f=this._cy+Math.sin(_)*this._radius}var p=this._cx+Math.cos(h)*(this._radius+s+LABEL_PADDING+l.height/2),d=this._cy+Math.sin(h)*(this._radius+s+LABEL_PADDING+l.height/2),y=new e.AxisShape;y._lableRect=new e.RotateRect(p,d,l.width,l.height,0),y._majorTick=new e.RotateLine(c,u,this._majorTickHeight,0,h-Math.PI/2),y._label=o,y._lableFont=this.labelFont,y._major=this.majorStyle,y._minor=this.minorStyle;var g=NaN,m=NaN,v=NaN;isNaN(f)||(v=this.scale.getScaleValue((r+a)/2),m=this._cx+Math.cos(v)*this._radius,g=this._cy+Math.sin(v)*this._radius),y._minorTick=new e.RotateLine(m,g,this._minorTickHeight,0,v-Math.PI/2),this._children.push(y)}},h.prototype.onMeasure=function(e,r,o){var l=null;return this._axisType==i.AxisType.X?(l=new a(e.value,this._measureX(o)),this.setMeasuredDimension(new n(l.width,s.EXACTLY),new n(l.height,s.EXACTLY)),l):this._axisType==i.AxisType.Y?(l=new a(this._measureY(o),r.value),this.setMeasuredDimension(new n(l.width,s.EXACTLY),new n(l.height,s.EXACTLY)),l):t.prototype.onMeasure.call(this,e,r,o)},h.prototype._measureX=function(t){for(var e=t.measureString(this.title,this.titleFont),i=Math.max(this._majorTickHeight,this._minorTickHeight),n=new a(0,0),r=0,s=this._ticks;r<s.length;r++){var o=s[r],l=t.measureString(this._format(o),this.labelFont);n.width=Math.max(l.width,n.width),n.height=Math.max(l.height,n.height)}return n.height+e.height+i},h.prototype._measureY=function(t){for(var e=t.measureString(this.title,this.titleFont),i=Math.max(this._majorTickHeight,this._minorTickHeight),n=new a(0,0),r=0,s=this._ticks;r<s.length;r++){var o=s[r],l=t.measureString(this._format(o),this.labelFont);n.width=Math.max(l.width,n.width),n.height=Math.max(l.height,n.height)}return n.width+e.height+i},h.prototype.onLayout=function(e,n,a,r,s){t.prototype.onLayout.call(this,e,n,a,r,s),null!=this.scale&&(this._axisType===i.AxisType.X?this._layoutXAxis(s):this._axisType==i.AxisType.Y&&this._layoutYAxis(s))},h.prototype.onDraw=function(e){if(t.prototype.onDraw.call(this,e),this._drawLine(e),null!=this._children)for(var i=0,n=this._children;i<n.length;i++)n[i].onDraw(e)},h.prototype._drawLine=function(t){this.layoutInfo.innerrect;if(this._axisType==i.AxisType.X){var e=this._cx+Math.cos(this.__startAngle)*this._radius,n=this._cy+Math.sin(this.__startAngle)*this._radius,a=this._cx+Math.cos(this.__startAngle)*this.__innerRadius*this._radius,r=this._cy+Math.sin(this.__startAngle)*this._innerRadius*this._radius;t.drawLine(new o(a,r),new o(e,n),this.lineStyle)}else if(this._axisType==i.AxisType.Y){var s=l.style;s.strokeStyle=this.lineStyle,t.drawDonut(this._cx,this._cy,this._radius,this._radius-this.lineStyle.strokeWidth,this._startAngle/Math.PI*180,180*this._sweep/Math.PI,s)}},h}(i.BaseAxis);i.RadialLineAxis=h}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"layout",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.beginChartAnimation=function(){},e}(t.view.ViewGroup);e.BasePlot=i}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){var n=t.graphics.Rect,a=t.device.Default,r=t.view.animation.Animation,s=t.view.animation.BounceAnimationEase,o=function(t){function o(e,i){var n=t.call(this,e)||this;return n.__shapeList=[],n._datamodel=i,n._layouts=[],n.__scalePairs=[],n._animation=new r,n._animation.duration=500,n._animation.ease=new s,n}return __extends(o,t),o.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},o.prototype.onLayout=function(a,r,s,o,l){if(t.prototype.onLayout.call(this,a,r,s,o,l),this.islayoutChanged){this.removeAllViews(),this.__shapeList=[],this.__scalePairs=[],this._layouts.length=0;for(var h=this._datamodel.encoding._radial,c=0,u=this._datamodel.chartTypes;c<u.length;c++)switch(u[c]){case e.ChartType.Bar:if(h){var f=new i.RadialBarLayout,p=(a+s)/2,d=(o+r)/2,y=(s-a<o-r?s-a:o-r)/2,g=0,m=i.StartAngle,v=2*Math.PI+m;f.convert(this._datamodel.getSeriesByType(e.ChartType.Bar),this._datamodel.encoding,p,d,g,y,m,v),this.__shapeList=this.__shapeList.concat(f.shapeList),this._layouts.push(f)}else(f=new i.BarLayout).convert(this._datamodel.getSeriesByType(e.ChartType.Bar),this._datamodel.encoding,new n(a,r,s,o),l),this.__shapeList=this.__shapeList.concat(f.shapeList),this._layouts.push(f);break;case e.ChartType.Line:if(h){var b=new i.RadialLineLayout,p=(a+s)/2,d=(o+r)/2,y=(s-a<o-r?s-a:o-r)/2,g=0,m=i.StartAngle,v=2*Math.PI+m;b.convert(this._datamodel.getSeriesByType(e.ChartType.Line),this._datamodel.encoding,p,d,g,y,m,v),this.__shapeList=this.__shapeList.concat(b.shapeList),this._layouts.push(b)}else(b=new i.LineLayout).convert(this._datamodel.getSeriesByType(e.ChartType.Line),this._datamodel.encoding,new n(a,r,s,o),l),this.__shapeList=this.__shapeList.concat(b.shapeList),this._layouts.push(b);break;case e.ChartType.Scatter:if(h){var w=new i.RadialScatterLayout,p=(a+s)/2,d=(o+r)/2,y=(s-a<o-r?s-a:o-r)/2,g=0,m=i.StartAngle,v=2*Math.PI+m;w.convert(this._datamodel.getSeriesByType(e.ChartType.Scatter),this._datamodel.encoding,p,d,g,y,m,v),this.__shapeList=this.__shapeList.concat(w.shapeList),this._layouts.push(w)}else{var S=new i.ScatterLayout;S.convert(this._datamodel.getSeriesByType(e.ChartType.Scatter),this._datamodel.encoding,new n(a,r,s,o),l),this.__shapeList=this.__shapeList.concat(S.shapeList),this._layouts.push(S)}break;case e.ChartType.Area:if(h){var x=new i.RadialAreaLayout,p=(a+s)/2,d=(o+r)/2,y=(s-a<o-r?s-a:o-r)/2,g=0,m=i.StartAngle,v=2*Math.PI+m;x.convert(this._datamodel.getSeriesByType(e.ChartType.Area),this._datamodel.encoding,p,d,g,y,m,v),this.__shapeList=this.__shapeList.concat(x.shapeList),this._layouts.push(x)}else(x=new i.AreaLayout).convert(this._datamodel.getSeriesByType(e.ChartType.Area),this._datamodel.encoding,new n(a,r,s,o),l),this.__shapeList=this.__shapeList.concat(x.shapeList),this._layouts.push(x)}if(this.layouts.length>1)for(var T=0;T<this._layouts.length;++T)for(var A=this,P=0,L=this.layouts[T].scalePairs;P<L.length;P++)!function(t){var e=_.find(A.scalePairs,function(e){return e.filed.equals(t.filed)&&e.scale.equal(t.scale)});null==e?A.__scalePairs.push({series:[].concat(t.series),filed:t.filed,scale:t.scale}):e.series=e.series.concat(t.series)}(L[P]);else 1===this._layouts.length&&(this.__scalePairs=this._layouts[0].scalePairs);this._datamodel.encoding._radial||this._layoutLine(a,s);for(var M=0,k=this.__shapeList;M<k.length;M++){var O=k[M];this.addViewWithOutReLayout(O),O instanceof e.PlotShape&&null!=O.label&&this.addViewWithOutReLayout(O.label)}}},o.prototype._layoutLine=function(t,i){for(var n=[],r=0,s=this.layouts;r<s.length;r++)for(var o=0,l=s[r].scalePairs;o<l.length;o++){var h=l[o];if("y"==h.filed.name){var c=h.scale.getScaleValue(0);if(n.indexOf(c)<0){n.push(c);var u=new e.AxisLineShape(t,c,i,c,a.strokestyle);this.__shapeList.push(u)}}}},o.prototype.beginChartAnimation=function(){for(var t=500/this.children.length,i=this,n=0;n<this.children.length;++n)!function(n){var a=i.children[n];a instanceof e.ScatterShape?setTimeout(function(){console.log("index  "+n);var t=new e.ScatterAnimation(null);t.duration=500,t.from=.2,t.to=1,t.fillAfter=!1,a.startAnimation(t)},t*n):a instanceof e.BarShape?setTimeout(function(){var t=new e.BarAnimation(null);t.duration=1e3,t.from=.3,t.to=1,t.fillAfter=!1,a.startAnimation(t)},t*n):a instanceof e.AreaShape||a instanceof e.LinesShape?setTimeout(function(){var t=new e.AreaAnimation(null);t.duration=1e3,t.from=0,t.to=1,t.fillAfter=!1,a.startAnimation(t)},t*n):a instanceof e.RadialBarShape&&setTimeout(function(){var t=new e.SweepAnimation;t.duration=1e3,t.from=0,t.to=1,t.fillAfter=!1,a.startAnimation(t)},t*n)}(n)},o.prototype.__merageScale=function(){},o.prototype.onDraw=function(e){t.prototype.onDraw.call(this,e)},Object.defineProperty(o.prototype,"layouts",{get:function(){return this._layouts},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),o}(e.BasePlot);i.CartesianPlot=o}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.view.MeasureSpec,a=t.graphics.Size,r=t.view.LayoutParams,s=t.widget.FrameLayout,o=t.graphics.Gravity;i.StartAngle=Math.PI;var l=function(t){function s(e,i,n){var a=t.call(this,e)||this;return a._option=i,a._chartType=n,a._axisList=[],a}return __extends(s,t),Object.defineProperty(s.prototype,"option",{get:function(){return this._option},set:function(t){this._option=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"chartType",{get:function(){return this._chartType},set:function(t){null!=t&&t!=this._chartType&&(this._chartType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"datamodel",{get:function(){return this._dataModel},set:function(t){this._dataModel=t,this._dataModel.encoding._radial?this._loadRadialView():this._loadView()},enumerable:!0,configurable:!0}),s.prototype._loadView=function(){for(var t=0,e=this.datamodel.scalePairs;t<e.length;t++){var n=e[t];if("y"==n.filed.name){var a=new i.LineAxis(this.getContext());a.type=i.AxisType.Y,a.layoutParams.height=r.MATCH_PARENT,a.layoutParams.width=100,a.near=!0,a.series=[].concat(n.series),this._axisList.push(a),this.addView(a)}}this._axisList.length>1&&(this._axisList[this._axisList.length-1].near=!1);var s=new i.CartesianPlot(this.getContext(),this.datamodel);s.layoutParams.width=r.MATCH_PARENT,s.layoutParams.height=r.MATCH_PARENT,this._plot=s,this.addView(s);var o=new i.LineAxis(this.getContext());o.type=i.AxisType.X,o.layoutParams.width=r.MATCH_PARENT,o.layoutParams.height=100,o.near=!0,this._axisList.push(o),this.addView(o)},s.prototype.beginChartAnimation=function(){this.plot.beginChartAnimation()},s.prototype._loadRadialView=function(){for(var t=0,e=this.datamodel.scalePairs;t<e.length;t++){var n=e[t];if("y"==n.filed.name){var a=new i.RadialLineAxis(this.getContext());a.type=i.AxisType.Y,a.layoutParams.height=r.MATCH_PARENT,a.layoutParams.width=r.MATCH_PARENT,a.near=!0,a.series=[].concat(n.series),this._axisList.push(a),this.addView(a)}}this._axisList.length>1&&(this._axisList[this._axisList.length-1].near=!1);var s=new i.CartesianPlot(this.getContext(),this.datamodel);s.layoutParams.width=r.MATCH_PARENT,s.layoutParams.height=r.MATCH_PARENT,this._plot=s,this.addView(s);var l=new i.RadialLineAxis(this.getContext());l.type=i.AxisType.X,l.gravity=o.Center,l.layoutParams.width=r.MATCH_PARENT,l.layoutParams.height=r.MATCH_PARENT,l.near=!0,this._axisList.push(l),this.addView(l)},s.prototype.onMeasure=function(s,o,l){var h=new a(0,0);if(this.datamodel.encoding._radial){for(var c=0,u=0,f=this._axisList;u<f.length;u++){w=(M=f[u]).onMeasure(s,o,l);M.type==i.AxisType.Y&&(c=w.width)}var _=s.getMeasureValue(),p=o.getMeasureValue(),d=_<p?_/2:p/2;d-=c;for(var y=i.StartAngle,g=2*Math.PI,m=0,v=this.children;m<v.length;m++){var b=v[m],w=new a(0,0);b instanceof i.BaseAxis?(b.type==i.AxisType.Y?w=b.onMeasure(new n(s.getMeasureValue(),r.EXACTLY),new n(o.getMeasureValue(),r.EXACTLY),l):b.type==i.AxisType.X&&b.onMeasure(s,o,l),b._innerRadius=0,b._startAngle=y,b._sweep=g,b._radius=d):b instanceof e.BasePlot&&(b.layoutParams.margin.marginLeft=c,b.layoutParams.margin.marginTop=c,b.layoutParams.margin.marginRight=c,b.layoutParams.margin.marginBottom=c,b.onMeasure(s,o,l))}}else{for(var S=0,x=0,T=0,A=0,P=0,L=this._axisList;P<L.length;P++){var M=L[P],w=M.onMeasure(s,o,l);M.type==i.AxisType.X?M.near?A=w.height:x=w.height:M.type==i.AxisType.Y&&(M.near?S=w.width:T=w.width)}for(var k=0,O=this.children;k<O.length;k++){var b=O[k],w=new a(0,0);b instanceof i.BaseAxis?b.type==i.AxisType.X?(b.layoutParams.margin.marginLeft=S,b.layoutParams.margin.marginRight=T,w=b.onMeasure(new n(s.getMeasureValue()-S-T,s.mode),o,l)):b.type==i.AxisType.Y&&(b.near?(b.layoutParams.margin.marginTop=x,b.layoutParams.margin.marginBottom=A,w=b.onMeasure(s,new n(o.getMeasureValue()-x-A,r.EXACTLY),l)):(b.layoutParams.margin.marginTop=x,b.layoutParams.margin.marginBottom=A,b.layoutParams.margin.marginRight=0,w=b.onMeasure(s,new n(o.getMeasureValue()-x-A,r.EXACTLY),l))):b instanceof e.BasePlot?(b.layoutParams.margin.marginLeft=S,b.layoutParams.margin.marginRight=T,b.layoutParams.margin.marginTop=x,b.layoutParams.margin.marginBottom=A,w=b.onMeasure(s,o,l)):w=b.onMeasure(s,o,l),w.width>h.width&&(h.width=w.width),w.height>h.height&&(h.height=w.height)}}return t.prototype.onMeasure.call(this,s,o,l)},s.prototype.onLayout=function(t,e,n,a,r){this.layoutInfo.reset(t,e,n,a,this.padding,0);for(var s=0,o=this._axisList;s<o.length;s++)(c=o[s]).scale=null;this.layoutItem(this.plot,t,e,n,a,r);for(var l=0,h=this._axisList;l<h.length;l++){var c=h[l];if(c instanceof i.BaseAxis)if(c instanceof i.RadialLineAxis&&(c._cx=(t+n)/2,c._cy=(e+a)/2),c.type===i.AxisType.X)for(var u=0,f=this.plot.scalePairs;u<f.length;u++)"x"==(y=f[u]).filed.name&&(c.scale=y.scale);else for(var p=0,d=this.plot.scalePairs;p<d.length;p++){var y=d[p];"y"==y.filed.name&&0==_.xor(y.series,c.series).length&&(c.scale=y.scale)}this.layoutItem(c,t,n,e,a,r)}},Object.defineProperty(s.prototype,"plot",{get:function(){for(var t=0,e=this.children;t<e.length;t++){var n=e[t];if(n instanceof i.CartesianPlot)return n}},enumerable:!0,configurable:!0}),s.prototype.dispatchDraw=function(e){t.prototype.dispatchDraw.call(this,e)},s}(s);i.CartesianChart=l}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){var n=t.graphics.Padding,a=t.graphics.Gravity,r=t.view.LayoutParams,s=t.graphics.RenderType,o=t.graphics.Orientation,l=t.widget.RootView,h=t.graphics.Util,c=function(t){function l(i){var n=t.call(this,i)||this;n.clip=!1;return window.EventHandler=function(t,i,a){if(console.log(" "+t.toString()+", type "+i+" , info "+a),i==e.ElementType.SeriesLegend){var r=n._dataModel.filter.series.indexOf(a.series);"enableseries"===a.action?(a.enable?r>-1&&n._dataModel.filter.series.splice(r,1):r<0&&n._dataModel.filter.series.push(a.series),n._dataModel.refresh(),n.setChart(),n.beginChartAnimation()):"showlabel"===a.action&&n.requestLayout()}},n}return __extends(l,t),l.prototype.attachElement=function(e,i,a){t.prototype.attachElement.call(this,e,h.asEnum(i,s)),this.padding=new n(20),this._dataModel=a,this.setChart()},l.prototype.beginChartAnimation=function(){this._chart.beginChartAnimation()},l.prototype.setChart=function(){this.removeAllViews(),this._chart=new i.CartesianChart(null,null,e.ChartType.Bar),this._chart.layoutParams.width=r.MATCH_PARENT,this._chart.layoutParams.height=r.MATCH_PARENT,this._chart.datamodel=this._dataModel,this._dataModel.allSeries.length>1?(this._horizontallegend=new i.SeriesLegend("bar"),this._horizontallegend.series=this._dataModel.allSeries):this._dataModel.series.length,null!=this._horizontallegend&&(this._horizontallegend.setOrientation(o.Horizontal),this._horizontallegend.layoutParams.width=r.WRAP_CONTENT,this._horizontallegend.layoutParams.height=30,this._horizontallegend.gravity=a.Top,this._chart.layoutParams.margin.marginTop=30),this._chart.gravity=a.Bottom,this.addView(this._chart,0),null!=this._horizontallegend&&this.addView(this._horizontallegend,1)},l.prototype.dispatchDraw=function(e){t.prototype.dispatchDraw.call(this,e);var i=this.layoutInfo.outterrect;e.drawRect(i.startPoint,i.endPoint,!1,this.background)},l.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},l.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r)},l.prototype.addView=function(e,i){return t.prototype.addView.call(this,e,i),0},l}(l);i.ChartLayout=c}(e.cartesian||(e.cartesian={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){var n=t.graphics.Rect,a=t.graphics.Util,r=function(t){function r(i,a){var r=t.call(this,i)||this;return r.__comparedAnimationCache=new e.ComparedAnimationCache,r._datamodel=a,r._layouts=[],r.__scalePairs=[],r._currentRect=new n(0,0,0,0),r}return __extends(r,t),r.prototype.scaleCallBack=function(t){var r=this;t.width*t.height<this.layoutInfo.innerrect.width*this.layoutInfo.innerrect.height/4?this._datamodel.chartType===e.ChartType.TreeMap&&setTimeout(function(){var t=new i.TreeMapLayout(r.layoutInfo.innerrect),s=r._currentRect;r._currentRect=new n(s.left-s.width/2,s.top-s.height/2,s.right+s.width/2,s.bottom+s.height/2),t.convert(r._datamodel.root,r._datamodel.encoding,r._currentRect,r._canvas);for(var o=[],l=0,h=t.shapeList;l<h.length;l++){var c=h[l];a.isMixed(c.layoutInfo.innerrect,r.layoutInfo.innerrect)&&o.push(c)}console.log("after shapelist size  "+o.length),r.removeAllViews();for(var u=0,f=o;u<f.length;u++){var _=f[u];r.addViewWithOutReLayout(_),_ instanceof e.PlotShape&&null!=_.label&&r.addViewWithOutReLayout(_.label)}r.__comparedAnimationCache.startCompare(o)},100):t.width*t.height>this.layoutInfo.innerrect.width*this.layoutInfo.innerrect.height/4&&this._datamodel.chartType===e.ChartType.TreeMap&&setTimeout(function(){var t=new i.TreeMapLayout(r.layoutInfo.innerrect),s=r._currentRect;r._currentRect=new n(s.left+s.width/4,s.top+s.height/4,s.right-s.width/4,s.bottom-s.height/4),t.convert(r._datamodel.root,r._datamodel.encoding,r._currentRect,r._canvas);for(var o=[],l=0,h=t.shapeList;l<h.length;l++){var c=h[l];a.isMixed(c.layoutInfo.innerrect,r.layoutInfo.innerrect)&&o.push(c)}console.log("after shapelist size  "+o.length),r.removeAllViews();for(var u=0,f=o;u<f.length;u++){var _=f[u];r.addViewWithOutReLayout(_),_ instanceof e.PlotShape&&null!=_.label&&r.addViewWithOutReLayout(_.label)}r.__comparedAnimationCache.startCompare(o)},100)},r.prototype.addViewWithOutReLayout=function(i,n,a){return i instanceof e.CubeShape&&(i.scaleCallBack=this.scaleCallBack.bind(this)),t.prototype.addViewWithOutReLayout.call(this,i,n,a)},r.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},r.prototype.onLayout=function(a,r,s,o,l){var h=this;if(t.prototype.onLayout.call(this,a,r,s,o,l),this.islayoutChanged){this.removeAllViews();var c=[];if(this.__scalePairs=[],this._layouts.length=0,this._datamodel.chartType==e.ChartType.Sunburst){var u=new i.SunburstLayout(0,2*Math.PI,0);this._currentRect=new n(a,r,s,o),u.convert(this._datamodel.root,this._datamodel.encoding,this._currentRect,l),c=u.shapeList}else if(this._datamodel.chartType==e.ChartType.TreeMap){var f=new i.TreeMapLayout(this.layoutInfo.innerrect);this._currentRect=new n(a,r,s,o),f.convert(this._datamodel.root,this._datamodel.encoding,this._currentRect,l),c=f.shapeList,console.log("before shape list size "+c.length),setTimeout(function(){h.__comparedAnimationCache.startCompare(c)})}for(var _=0,p=c;_<p.length;_++){var d=p[_];this.addViewWithOutReLayout(d),d instanceof e.PlotShape&&null!=d.label&&this.addViewWithOutReLayout(d.label)}}},r.prototype.beginChartAnimation=function(){for(var t=500/this.children.length,i=this,n=0;n<this.children.length;++n)!function(n){var a=i.children[n];if(a instanceof e.CubeShape)setTimeout(function(){var t=new e.CubeAnimation(null);t.duration=500,t.from=.2,t.to=1,t.fillAfter=!1,a.startAnimation(t)},t*n);else if(a instanceof e.SunburstShape){var r=new e.SweepAnimation;r.duration=1500,r.from=.2,r.to=1,r.fillAfter=!1,a.startAnimation(r)}}(n)},r.prototype.__merageScale=function(){},r.prototype.onDraw=function(e){t.prototype.onDraw.call(this,e)},r.prototype.dispatchDraw=function(e){e.save(),e.clip(this.layoutInfo.innerrect),t.prototype.dispatchDraw.call(this,e),e.restore()},Object.defineProperty(r.prototype,"layouts",{get:function(){return this._layouts},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),r}(e.BasePlot);i.HierarchicalPlot=r}(e.hierarchical||(e.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){"use strict";var n=t.graphics.Size,a=t.view.LayoutParams,r=function(t){function r(e,i,n){var a=t.call(this,e)||this;return a._option=i,a._chartType=n,a}return __extends(r,t),Object.defineProperty(r.prototype,"option",{get:function(){return this._option},set:function(t){this._option=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"chartType",{get:function(){return this._chartType},set:function(t){null!=t&&t!=this._chartType&&(this._chartType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"datamodel",{get:function(){return this._dataModel},set:function(t){this._dataModel=t,this._loadView()},enumerable:!0,configurable:!0}),r.prototype._loadView=function(){var t=new i.HierarchicalPlot(this.getContext(),this.datamodel);t.layoutParams.width=a.MATCH_PARENT,t.layoutParams.height=a.MATCH_PARENT,this._plot=t,this.addView(t)},r.prototype.beginChartAnimation=function(){this.plot.beginChartAnimation()},r.prototype.onMeasure=function(i,a,r){for(var s=new n(0,0),o=0,l=this.children;o<l.length;o++){var h=l[o],c=new n(0,0);h instanceof e.BasePlot?(h.layoutParams.margin.marginLeft=0,h.layoutParams.margin.marginRight=0,h.layoutParams.margin.marginTop=0,h.layoutParams.margin.marginBottom=0,c=h.onMeasure(i,a,r)):c=h.onMeasure(i,a,r),c.width>s.width&&(s.width=c.width),c.height>s.height&&(s.height=c.height)}return t.prototype.onMeasure.call(this,i,a,r)},r.prototype.onLayout=function(t,e,i,n,a){this.layoutInfo.reset(t,e,i,n,this.padding,0),this.layoutItem(this.plot,t,e,i,n,a)},Object.defineProperty(r.prototype,"plot",{get:function(){for(var t=0,i=this.children;t<i.length;t++){var n=i[t];if(n instanceof e.BasePlot)return n}},enumerable:!0,configurable:!0}),r.prototype.dispatchDraw=function(e){t.prototype.dispatchDraw.call(this,e)},r}(t.widget.FrameLayout);i.HierarchicalChart=r}(e.hierarchical||(e.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){!function(i){var n=t.graphics.Padding,a=t.graphics.Gravity,r=t.view.LayoutParams,s=t.graphics.RenderType,o=t.widget.RootView,l=t.graphics.Util,h=function(t){function o(e){var i=t.call(this,e)||this;i.clip=!1;return window.EventHandler=function(t,e,i){console.log(" "+t.toString()+", type "+e+" , info "+i)},i}return __extends(o,t),o.prototype.attachElement=function(e,i,a){t.prototype.attachElement.call(this,e,l.asEnum(i,s)),this.padding=new n(20),this._dataModel=a,this.setChart()},o.prototype.beginChartAnimation=function(){this._chart.beginChartAnimation()},o.prototype.setChart=function(){this.removeAllViews(),this._chart=new i.HierarchicalChart(null,null,e.ChartType.Bar),this._chart.layoutParams.width=r.MATCH_PARENT,this._chart.layoutParams.height=r.MATCH_PARENT,this._chart.datamodel=this._dataModel,this._chart.gravity=a.Center,this.addView(this._chart,0)},o.prototype.dispatchDraw=function(e){t.prototype.dispatchDraw.call(this,e);var i=this.layoutInfo.outterrect;e.drawRect(i.startPoint,i.endPoint,!1,this.background)},o.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},o.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r)},o.prototype.addView=function(e,i){return t.prototype.addView.call(this,e,i),0},o}(o);i.ChartLayout=h}(e.hierarchical||(e.hierarchical={}))}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(t){var e=function(){return function(){}}();t.EventHandler=e}(t.test||(t.test={}))}(android||(android={}));!function(t){!function(e){"use strict";var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t.widget.LinearLayout);e.LegendLayout=i}(t.test||(t.test={}))}(android||(android={}));var android;!function(t){!function(e){"use strict";var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onDraw=function(t){},e}(t.widget.TextView);e.ToolTips=i}(t.test||(t.test={}))}(android||(android={}));